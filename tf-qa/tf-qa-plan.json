{
  "format_version": "1.2",
  "terraform_version": "1.8.2",
  "variables": {
    "qa_bucket_name": {
      "value": "qa-s3-bucket-cloudnativeapp"
    }
  },
  "planned_values": {
    "root_module": {
      "child_modules": [
        {
          "resources": [
            {
              "address": "module.application.aws_cloudwatch_log_group.cloudwatch_log_group",
              "mode": "managed",
              "type": "aws_cloudwatch_log_group",
              "name": "cloudwatch_log_group",
              "provider_name": "registry.terraform.io/hashicorp/aws",
              "schema_version": 0,
              "values": {
                "kms_key_id": null,
                "name": "QaCloudnativeappTfCloudwatchLogGroup",
                "retention_in_days": 0,
                "skip_destroy": false,
                "tags": null
              },
              "sensitive_values": {
                "tags_all": {}
              }
            },
            {
              "address": "module.application.aws_ecs_cluster.ecs_cluster",
              "mode": "managed",
              "type": "aws_ecs_cluster",
              "name": "ecs_cluster",
              "provider_name": "registry.terraform.io/hashicorp/aws",
              "schema_version": 0,
              "values": {
                "configuration": [],
                "name": "qa_ecs_cluster_cloudnativeapp-tf",
                "service_connect_defaults": [],
                "setting": [
                  {
                    "name": "containerInsights",
                    "value": "enabled"
                  }
                ],
                "tags": null
              },
              "sensitive_values": {
                "configuration": [],
                "service_connect_defaults": [],
                "setting": [
                  {}
                ],
                "tags_all": {}
              }
            },
            {
              "address": "module.application.aws_ecs_service.ecs_service",
              "mode": "managed",
              "type": "aws_ecs_service",
              "name": "ecs_service",
              "provider_name": "registry.terraform.io/hashicorp/aws",
              "schema_version": 0,
              "values": {
                "alarms": [],
                "capacity_provider_strategy": [],
                "deployment_circuit_breaker": [],
                "deployment_controller": [],
                "deployment_maximum_percent": 200,
                "deployment_minimum_healthy_percent": 100,
                "desired_count": 2,
                "enable_ecs_managed_tags": false,
                "enable_execute_command": false,
                "force_new_deployment": null,
                "health_check_grace_period_seconds": null,
                "launch_type": "FARGATE",
                "load_balancer": [
                  {
                    "container_name": "cloudnativeapp-1",
                    "container_port": 8080,
                    "elb_name": ""
                  }
                ],
                "name": "QaCloudNativeApp1TFService",
                "network_configuration": [
                  {
                    "assign_public_ip": true,
                    "subnets": [
                      "subnet-01da444623a60d536",
                      "subnet-0e2759092403c537c"
                    ]
                  }
                ],
                "ordered_placement_strategy": [],
                "placement_constraints": [],
                "propagate_tags": null,
                "scheduling_strategy": "REPLICA",
                "service_connect_configuration": [],
                "service_registries": [],
                "tags": null,
                "timeouts": null,
                "wait_for_steady_state": false
              },
              "sensitive_values": {
                "alarms": [],
                "capacity_provider_strategy": [],
                "deployment_circuit_breaker": [],
                "deployment_controller": [],
                "load_balancer": [
                  {}
                ],
                "network_configuration": [
                  {
                    "security_groups": [],
                    "subnets": [
                      false,
                      false
                    ]
                  }
                ],
                "ordered_placement_strategy": [],
                "placement_constraints": [],
                "service_connect_configuration": [],
                "service_registries": [],
                "tags_all": {},
                "triggers": {}
              }
            },
            {
              "address": "module.application.aws_ecs_task_definition.ecs_task_definition",
              "mode": "managed",
              "type": "aws_ecs_task_definition",
              "name": "ecs_task_definition",
              "provider_name": "registry.terraform.io/hashicorp/aws",
              "schema_version": 1,
              "values": {
                "container_definitions": "[{\"environment\":[{\"name\":\"AWS_DEFAULT_REGION\",\"value\":\"eu-west-1\"},{\"name\":\"DYNAMODB_TABLE_NAME\",\"value\":\"QaCloudNativeApp1Table-tf\"},{\"name\":\"S3_BUCKET_NAME\",\"value\":\"qa-bucket-cloudnativeapp1glom-tf\"}],\"essential\":true,\"image\":\"381492307166.dkr.ecr.eu-west-1.amazonaws.com/cloudnativeapp-1:latest\",\"logConfiguration\":{\"logDriver\":\"awslogs\",\"options\":{\"awslogs-create-group\":\"true\",\"awslogs-group\":\"/ecs/QaCloudnativeappTfCloudwatchLogGroup\",\"awslogs-region\":\"eu-west-1\",\"awslogs-stream-prefix\":\"ecs\"},\"secretOptions\":[]},\"name\":\"cloudnativeapp-1\",\"portMappings\":[{\"appProtocol\":\"http\",\"containerPort\":8080,\"hostPort\":8080,\"name\":\"cloudnativeapp-1-tf-8080-tcp\",\"protocol\":\"tcp\"}]}]",
                "cpu": "1024",
                "ephemeral_storage": [],
                "family": "Qa_CloudNativeApp1_TF_Task_Definition_Family",
                "inference_accelerator": [],
                "ipc_mode": null,
                "memory": "3072",
                "network_mode": "awsvpc",
                "pid_mode": null,
                "placement_constraints": [],
                "proxy_configuration": [],
                "requires_compatibilities": [
                  "FARGATE"
                ],
                "runtime_platform": [],
                "skip_destroy": false,
                "tags": null,
                "track_latest": false,
                "volume": []
              },
              "sensitive_values": {
                "ephemeral_storage": [],
                "inference_accelerator": [],
                "placement_constraints": [],
                "proxy_configuration": [],
                "requires_compatibilities": [
                  false
                ],
                "runtime_platform": [],
                "tags_all": {},
                "volume": []
              }
            },
            {
              "address": "module.application.aws_iam_policy.lambda_iam_policy",
              "mode": "managed",
              "type": "aws_iam_policy",
              "name": "lambda_iam_policy",
              "provider_name": "registry.terraform.io/hashicorp/aws",
              "schema_version": 0,
              "values": {
                "description": "A policy for lambda",
                "name": "qa_lambda_iam_policy_cloudnativeapp-tf",
                "path": "/",
                "policy": "{\"Statement\":[{\"Action\":[\"sqs:DeleteMessage\",\"sqs:GetQueueAttributes\",\"sqs:ReceiveMessage\"],\"Effect\":\"Allow\",\"Resource\":\"*\"},{\"Action\":[\"dynamodb:GetItem\",\"dynamodb:PutItem\",\"dynamodb:UpdateItem\",\"dynamodb:BatchWriteItem\",\"dynamodb:BatchGetItem\"],\"Effect\":\"Allow\",\"Resource\":\"*\"},{\"Action\":[\"rekognition:DetectLabels\"],\"Effect\":\"Allow\",\"Resource\":\"*\"},{\"Action\":[\"s3:GetObject\"],\"Effect\":\"Allow\",\"Resource\":\"*\"}],\"Version\":\"2012-10-17\"}",
                "tags": null
              },
              "sensitive_values": {
                "tags_all": {}
              }
            },
            {
              "address": "module.application.aws_iam_policy_attachment.ecs_te_apprunnerservice_iam_policy_attachment",
              "mode": "managed",
              "type": "aws_iam_policy_attachment",
              "name": "ecs_te_apprunnerservice_iam_policy_attachment",
              "provider_name": "registry.terraform.io/hashicorp/aws",
              "schema_version": 0,
              "values": {
                "groups": null,
                "name": "qa_ecs_te_apprunnerservice_iam_policy_attachment_cloudnativeapp-tf",
                "policy_arn": "arn:aws:iam::aws:policy/service-role/AWSAppRunnerServicePolicyForECRAccess",
                "roles": [
                  "qa_ecs_task_execution_role_cloudnativeapp-tf"
                ],
                "users": null
              },
              "sensitive_values": {
                "roles": [
                  false
                ]
              }
            },
            {
              "address": "module.application.aws_iam_policy_attachment.ecs_te_cloudwatch_iam_policy_attachment",
              "mode": "managed",
              "type": "aws_iam_policy_attachment",
              "name": "ecs_te_cloudwatch_iam_policy_attachment",
              "provider_name": "registry.terraform.io/hashicorp/aws",
              "schema_version": 0,
              "values": {
                "groups": null,
                "name": "qa_ecs_te_cloudwatch_iam_policy_attachment_cloudnativeapp-tf",
                "policy_arn": "arn:aws:iam::aws:policy/CloudWatchLogsFullAccess",
                "roles": [
                  "qa_ecs_task_execution_role_cloudnativeapp-tf"
                ],
                "users": null
              },
              "sensitive_values": {
                "roles": [
                  false
                ]
              }
            },
            {
              "address": "module.application.aws_iam_policy_attachment.ecs_tt_dynamodb_iam_policy_attachment",
              "mode": "managed",
              "type": "aws_iam_policy_attachment",
              "name": "ecs_tt_dynamodb_iam_policy_attachment",
              "provider_name": "registry.terraform.io/hashicorp/aws",
              "schema_version": 0,
              "values": {
                "groups": null,
                "name": "qa_ecs_tt_amazondynamodb_iam_policy_attachment_cloudnativeapp-tf",
                "policy_arn": "arn:aws:iam::aws:policy/AmazonDynamoDBFullAccess",
                "roles": [
                  "qa_ecs_task_task_role_cloudnativeapp-tf"
                ],
                "users": null
              },
              "sensitive_values": {
                "roles": [
                  false
                ]
              }
            },
            {
              "address": "module.application.aws_iam_policy_attachment.ecs_tt_s3_iam_policy_attachment",
              "mode": "managed",
              "type": "aws_iam_policy_attachment",
              "name": "ecs_tt_s3_iam_policy_attachment",
              "provider_name": "registry.terraform.io/hashicorp/aws",
              "schema_version": 0,
              "values": {
                "groups": null,
                "name": "qa_ecs_tt_amazons3_iam_policy_attachment_cloudnativeapp-tf",
                "policy_arn": "arn:aws:iam::aws:policy/AmazonS3FullAccess",
                "roles": [
                  "qa_ecs_task_task_role_cloudnativeapp-tf"
                ],
                "users": null
              },
              "sensitive_values": {
                "roles": [
                  false
                ]
              }
            },
            {
              "address": "module.application.aws_iam_policy_attachment.lambda_iam_policy_attachment",
              "mode": "managed",
              "type": "aws_iam_policy_attachment",
              "name": "lambda_iam_policy_attachment",
              "provider_name": "registry.terraform.io/hashicorp/aws",
              "schema_version": 0,
              "values": {
                "groups": null,
                "name": "qa_lambda_iam_policy_attachment_cloudnativeapp-tf",
                "roles": [
                  "qa_lambda_iam_role_cloudnativeapp-tf"
                ],
                "users": null
              },
              "sensitive_values": {
                "roles": [
                  false
                ]
              }
            },
            {
              "address": "module.application.aws_iam_role.ecs_task_execution_role",
              "mode": "managed",
              "type": "aws_iam_role",
              "name": "ecs_task_execution_role",
              "provider_name": "registry.terraform.io/hashicorp/aws",
              "schema_version": 0,
              "values": {
                "assume_role_policy": "{\"Statement\":[{\"Action\":\"sts:AssumeRole\",\"Effect\":\"Allow\",\"Principal\":{\"Service\":\"ecs-tasks.amazonaws.com\"}}],\"Version\":\"2012-10-17\"}",
                "description": null,
                "force_detach_policies": false,
                "max_session_duration": 3600,
                "name": "qa_ecs_task_execution_role_cloudnativeapp-tf",
                "path": "/",
                "permissions_boundary": null,
                "tags": null
              },
              "sensitive_values": {
                "inline_policy": [],
                "managed_policy_arns": [],
                "tags_all": {}
              }
            },
            {
              "address": "module.application.aws_iam_role.ecs_task_task_role",
              "mode": "managed",
              "type": "aws_iam_role",
              "name": "ecs_task_task_role",
              "provider_name": "registry.terraform.io/hashicorp/aws",
              "schema_version": 0,
              "values": {
                "assume_role_policy": "{\"Statement\":[{\"Action\":\"sts:AssumeRole\",\"Effect\":\"Allow\",\"Principal\":{\"Service\":\"ecs-tasks.amazonaws.com\"}}],\"Version\":\"2012-10-17\"}",
                "description": null,
                "force_detach_policies": false,
                "max_session_duration": 3600,
                "name": "qa_ecs_task_task_role_cloudnativeapp-tf",
                "path": "/",
                "permissions_boundary": null,
                "tags": null
              },
              "sensitive_values": {
                "inline_policy": [],
                "managed_policy_arns": [],
                "tags_all": {}
              }
            },
            {
              "address": "module.application.aws_iam_role.lambda_iam_role",
              "mode": "managed",
              "type": "aws_iam_role",
              "name": "lambda_iam_role",
              "provider_name": "registry.terraform.io/hashicorp/aws",
              "schema_version": 0,
              "values": {
                "assume_role_policy": "{\"Statement\":[{\"Action\":\"sts:AssumeRole\",\"Effect\":\"Allow\",\"Principal\":{\"Service\":\"lambda.amazonaws.com\"}}],\"Version\":\"2012-10-17\"}",
                "description": null,
                "force_detach_policies": false,
                "max_session_duration": 3600,
                "name": "qa_lambda_iam_role_cloudnativeapp-tf",
                "path": "/",
                "permissions_boundary": null,
                "tags": null
              },
              "sensitive_values": {
                "inline_policy": [],
                "managed_policy_arns": [],
                "tags_all": {}
              }
            },
            {
              "address": "module.application.aws_iam_role_policy_attachment.lambda_basic_execution_policy",
              "mode": "managed",
              "type": "aws_iam_role_policy_attachment",
              "name": "lambda_basic_execution_policy",
              "provider_name": "registry.terraform.io/hashicorp/aws",
              "schema_version": 0,
              "values": {
                "policy_arn": "arn:aws:iam::aws:policy/service-role/AWSLambdaBasicExecutionRole",
                "role": "qa_lambda_iam_role_cloudnativeapp-tf"
              },
              "sensitive_values": {}
            },
            {
              "address": "module.application.aws_iam_role_policy_attachment.lambda_basic_sqs_queue_execution_policy",
              "mode": "managed",
              "type": "aws_iam_role_policy_attachment",
              "name": "lambda_basic_sqs_queue_execution_policy",
              "provider_name": "registry.terraform.io/hashicorp/aws",
              "schema_version": 0,
              "values": {
                "policy_arn": "arn:aws:iam::aws:policy/service-role/AWSLambdaSQSQueueExecutionRole",
                "role": "qa_lambda_iam_role_cloudnativeapp-tf"
              },
              "sensitive_values": {}
            },
            {
              "address": "module.application.aws_lambda_event_source_mapping.lambda_test_sqs_trigger",
              "mode": "managed",
              "type": "aws_lambda_event_source_mapping",
              "name": "lambda_test_sqs_trigger",
              "provider_name": "registry.terraform.io/hashicorp/aws",
              "schema_version": 0,
              "values": {
                "batch_size": null,
                "bisect_batch_on_function_error": null,
                "destination_config": [],
                "document_db_event_source_config": [],
                "enabled": true,
                "filter_criteria": [],
                "function_response_types": null,
                "maximum_batching_window_in_seconds": null,
                "queues": null,
                "scaling_config": [],
                "self_managed_event_source": [],
                "source_access_configuration": [],
                "starting_position": null,
                "starting_position_timestamp": null,
                "topics": null,
                "tumbling_window_in_seconds": null
              },
              "sensitive_values": {
                "amazon_managed_kafka_event_source_config": [],
                "destination_config": [],
                "document_db_event_source_config": [],
                "filter_criteria": [],
                "scaling_config": [],
                "self_managed_event_source": [],
                "self_managed_kafka_event_source_config": [],
                "source_access_configuration": []
              }
            },
            {
              "address": "module.application.aws_lambda_function.lambda_function",
              "mode": "managed",
              "type": "aws_lambda_function",
              "name": "lambda_function",
              "provider_name": "registry.terraform.io/hashicorp/aws",
              "schema_version": 0,
              "values": {
                "code_signing_config_arn": null,
                "dead_letter_config": [],
                "description": null,
                "environment": [
                  {
                    "variables": {
                      "dynamodb_name": "QaCloudNativeApp1Table-tf"
                    }
                  }
                ],
                "file_system_config": [],
                "filename": "../modules/tf-application/lambda_function_payload.zip",
                "function_name": "qa_lambda_cloudnativeapp-tf",
                "handler": "index.lambda_handler",
                "image_config": [],
                "image_uri": null,
                "kms_key_arn": null,
                "layers": null,
                "memory_size": 128,
                "package_type": "Zip",
                "publish": false,
                "replace_security_groups_on_destroy": null,
                "replacement_security_group_ids": null,
                "reserved_concurrent_executions": -1,
                "runtime": "python3.12",
                "s3_bucket": null,
                "s3_key": null,
                "s3_object_version": null,
                "skip_destroy": false,
                "snap_start": [],
                "source_code_hash": "U5G1VRDH4ze1gtOD8ZL+qHzJTfrnImO0SqZ/mqpHSZk=",
                "tags": null,
                "timeout": 3,
                "timeouts": null,
                "vpc_config": []
              },
              "sensitive_values": {
                "architectures": [],
                "dead_letter_config": [],
                "environment": [
                  {
                    "variables": {}
                  }
                ],
                "ephemeral_storage": [],
                "file_system_config": [],
                "image_config": [],
                "logging_config": [],
                "snap_start": [],
                "tags_all": {},
                "tracing_config": [],
                "vpc_config": []
              }
            },
            {
              "address": "module.application.aws_lb.load_balancer",
              "mode": "managed",
              "type": "aws_lb",
              "name": "load_balancer",
              "provider_name": "registry.terraform.io/hashicorp/aws",
              "schema_version": 0,
              "values": {
                "access_logs": [],
                "client_keep_alive": 3600,
                "connection_logs": [],
                "customer_owned_ipv4_pool": null,
                "desync_mitigation_mode": "defensive",
                "dns_record_client_routing_policy": null,
                "drop_invalid_header_fields": true,
                "enable_cross_zone_load_balancing": null,
                "enable_deletion_protection": false,
                "enable_http2": true,
                "enable_tls_version_and_cipher_suite_headers": false,
                "enable_waf_fail_open": false,
                "enable_xff_client_port": false,
                "idle_timeout": 60,
                "internal": false,
                "load_balancer_type": "application",
                "name": "QaCloudnativeappTfLb",
                "preserve_host_header": false,
                "subnets": [
                  "subnet-01da444623a60d536",
                  "subnet-0e2759092403c537c"
                ],
                "tags": null,
                "timeouts": null,
                "xff_header_processing_mode": "append"
              },
              "sensitive_values": {
                "access_logs": [],
                "connection_logs": [],
                "security_groups": [],
                "subnet_mapping": [],
                "subnets": [
                  false,
                  false
                ],
                "tags_all": {}
              }
            },
            {
              "address": "module.application.aws_lb_listener.lb_listener",
              "mode": "managed",
              "type": "aws_lb_listener",
              "name": "lb_listener",
              "provider_name": "registry.terraform.io/hashicorp/aws",
              "schema_version": 0,
              "values": {
                "alpn_policy": null,
                "certificate_arn": null,
                "default_action": [
                  {
                    "authenticate_cognito": [],
                    "authenticate_oidc": [],
                    "fixed_response": [],
                    "forward": [],
                    "redirect": [],
                    "type": "forward"
                  }
                ],
                "port": 80,
                "protocol": "HTTP",
                "tags": null,
                "timeouts": null
              },
              "sensitive_values": {
                "default_action": [
                  {
                    "authenticate_cognito": [],
                    "authenticate_oidc": [],
                    "fixed_response": [],
                    "forward": [],
                    "redirect": []
                  }
                ],
                "mutual_authentication": [],
                "tags_all": {}
              }
            },
            {
              "address": "module.application.aws_lb_target_group.lb_target_group",
              "mode": "managed",
              "type": "aws_lb_target_group",
              "name": "lb_target_group",
              "provider_name": "registry.terraform.io/hashicorp/aws",
              "schema_version": 0,
              "values": {
                "deregistration_delay": "300",
                "health_check": [
                  {
                    "enabled": true,
                    "healthy_threshold": 3,
                    "interval": 30,
                    "path": "/",
                    "port": "traffic-port",
                    "protocol": "HTTP",
                    "unhealthy_threshold": 3
                  }
                ],
                "lambda_multi_value_headers_enabled": false,
                "name": "QaCloudnativeappTfLbTg",
                "port": 80,
                "protocol": "HTTP",
                "proxy_protocol_v2": false,
                "slow_start": 0,
                "tags": null,
                "target_type": "ip",
                "vpc_id": "vpc-0bc8d118b26e3aab1"
              },
              "sensitive_values": {
                "health_check": [
                  {}
                ],
                "load_balancer_arns": [],
                "stickiness": [],
                "tags_all": {},
                "target_failover": [],
                "target_health_state": []
              }
            },
            {
              "address": "module.application.aws_security_group.ecs_service_security_group",
              "mode": "managed",
              "type": "aws_security_group",
              "name": "ecs_service_security_group",
              "provider_name": "registry.terraform.io/hashicorp/aws",
              "schema_version": 1,
              "values": {
                "description": "Allow all inbound traffic and all outbound traffic",
                "name": "ecs_service_security_group_cloudnativeapp1-tf",
                "revoke_rules_on_delete": false,
                "tags": {
                  "Name": "allow_all"
                },
                "tags_all": {
                  "Name": "allow_all"
                },
                "timeouts": null,
                "vpc_id": "vpc-0bc8d118b26e3aab1"
              },
              "sensitive_values": {
                "egress": [],
                "ingress": [],
                "tags": {},
                "tags_all": {}
              }
            },
            {
              "address": "module.application.aws_vpc_security_group_egress_rule.allow_all_traffic_ipv4",
              "mode": "managed",
              "type": "aws_vpc_security_group_egress_rule",
              "name": "allow_all_traffic_ipv4",
              "provider_name": "registry.terraform.io/hashicorp/aws",
              "schema_version": 0,
              "values": {
                "cidr_ipv4": "0.0.0.0/0",
                "cidr_ipv6": null,
                "description": null,
                "from_port": null,
                "ip_protocol": "-1",
                "prefix_list_id": null,
                "referenced_security_group_id": null,
                "tags": null,
                "tags_all": {},
                "to_port": null
              },
              "sensitive_values": {
                "tags_all": {}
              }
            },
            {
              "address": "module.application.aws_vpc_security_group_egress_rule.allow_all_traffic_ipv6",
              "mode": "managed",
              "type": "aws_vpc_security_group_egress_rule",
              "name": "allow_all_traffic_ipv6",
              "provider_name": "registry.terraform.io/hashicorp/aws",
              "schema_version": 0,
              "values": {
                "cidr_ipv4": null,
                "cidr_ipv6": "::/0",
                "description": null,
                "from_port": null,
                "ip_protocol": "-1",
                "prefix_list_id": null,
                "referenced_security_group_id": null,
                "tags": null,
                "tags_all": {},
                "to_port": null
              },
              "sensitive_values": {
                "tags_all": {}
              }
            },
            {
              "address": "module.application.aws_vpc_security_group_ingress_rule.allow_all_traffic_ipv4",
              "mode": "managed",
              "type": "aws_vpc_security_group_ingress_rule",
              "name": "allow_all_traffic_ipv4",
              "provider_name": "registry.terraform.io/hashicorp/aws",
              "schema_version": 0,
              "values": {
                "cidr_ipv4": "0.0.0.0/0",
                "cidr_ipv6": null,
                "description": null,
                "from_port": null,
                "ip_protocol": "-1",
                "prefix_list_id": null,
                "referenced_security_group_id": null,
                "tags": null,
                "tags_all": {},
                "to_port": null
              },
              "sensitive_values": {
                "tags_all": {}
              }
            },
            {
              "address": "module.application.aws_vpc_security_group_ingress_rule.allow_all_traffic_ipv6",
              "mode": "managed",
              "type": "aws_vpc_security_group_ingress_rule",
              "name": "allow_all_traffic_ipv6",
              "provider_name": "registry.terraform.io/hashicorp/aws",
              "schema_version": 0,
              "values": {
                "cidr_ipv4": null,
                "cidr_ipv6": "::/0",
                "description": null,
                "from_port": null,
                "ip_protocol": "-1",
                "prefix_list_id": null,
                "referenced_security_group_id": null,
                "tags": null,
                "tags_all": {},
                "to_port": null
              },
              "sensitive_values": {
                "tags_all": {}
              }
            }
          ],
          "address": "module.application"
        },
        {
          "resources": [
            {
              "address": "module.environment.aws_default_subnet.default_subnet_a",
              "mode": "managed",
              "type": "aws_default_subnet",
              "name": "default_subnet_a",
              "provider_name": "registry.terraform.io/hashicorp/aws",
              "schema_version": 1,
              "values": {
                "assign_ipv6_address_on_creation": false,
                "availability_zone": "eu-west-1a",
                "customer_owned_ipv4_pool": null,
                "enable_dns64": false,
                "enable_resource_name_dns_a_record_on_launch": false,
                "enable_resource_name_dns_aaaa_record_on_launch": false,
                "force_destroy": false,
                "ipv6_native": false,
                "map_customer_owned_ip_on_launch": null,
                "map_public_ip_on_launch": true,
                "tags": null,
                "timeouts": null
              },
              "sensitive_values": {
                "tags_all": {}
              }
            },
            {
              "address": "module.environment.aws_default_subnet.default_subnet_b",
              "mode": "managed",
              "type": "aws_default_subnet",
              "name": "default_subnet_b",
              "provider_name": "registry.terraform.io/hashicorp/aws",
              "schema_version": 1,
              "values": {
                "assign_ipv6_address_on_creation": false,
                "availability_zone": "eu-west-1b",
                "customer_owned_ipv4_pool": null,
                "enable_dns64": false,
                "enable_resource_name_dns_a_record_on_launch": false,
                "enable_resource_name_dns_aaaa_record_on_launch": false,
                "force_destroy": false,
                "ipv6_native": false,
                "map_customer_owned_ip_on_launch": null,
                "map_public_ip_on_launch": true,
                "tags": null,
                "timeouts": null
              },
              "sensitive_values": {
                "tags_all": {}
              }
            },
            {
              "address": "module.environment.aws_dynamodb_table.dynamodb_table_cloudnativeapp-tf",
              "mode": "managed",
              "type": "aws_dynamodb_table",
              "name": "dynamodb_table_cloudnativeapp-tf",
              "provider_name": "registry.terraform.io/hashicorp/aws",
              "schema_version": 1,
              "values": {
                "attribute": [
                  {
                    "name": "ImageName",
                    "type": "S"
                  },
                  {
                    "name": "LabelValue",
                    "type": "S"
                  }
                ],
                "billing_mode": "PROVISIONED",
                "deletion_protection_enabled": null,
                "global_secondary_index": [],
                "hash_key": "LabelValue",
                "import_table": [],
                "local_secondary_index": [],
                "name": "QaCloudNativeApp1Table-tf",
                "range_key": "ImageName",
                "read_capacity": 10,
                "replica": [],
                "restore_date_time": null,
                "restore_source_name": null,
                "restore_to_latest_time": null,
                "stream_enabled": null,
                "table_class": null,
                "tags": null,
                "timeouts": null,
                "write_capacity": 10
              },
              "sensitive_values": {
                "attribute": [
                  {},
                  {}
                ],
                "global_secondary_index": [],
                "import_table": [],
                "local_secondary_index": [],
                "point_in_time_recovery": [],
                "replica": [],
                "server_side_encryption": [],
                "tags_all": {},
                "ttl": []
              }
            },
            {
              "address": "module.environment.aws_s3_bucket.s3_bucket_cloudnativeapp-tf",
              "mode": "managed",
              "type": "aws_s3_bucket",
              "name": "s3_bucket_cloudnativeapp-tf",
              "provider_name": "registry.terraform.io/hashicorp/aws",
              "schema_version": 0,
              "values": {
                "bucket": "qa-bucket-cloudnativeapp1glom-tf",
                "force_destroy": true,
                "tags": null,
                "timeouts": null
              },
              "sensitive_values": {
                "cors_rule": [],
                "grant": [],
                "lifecycle_rule": [],
                "logging": [],
                "object_lock_configuration": [],
                "replication_configuration": [],
                "server_side_encryption_configuration": [],
                "tags_all": {},
                "versioning": [],
                "website": []
              }
            },
            {
              "address": "module.environment.aws_s3_bucket_acl.s3_bucket_acl_cloudnativeapp-tf",
              "mode": "managed",
              "type": "aws_s3_bucket_acl",
              "name": "s3_bucket_acl_cloudnativeapp-tf",
              "provider_name": "registry.terraform.io/hashicorp/aws",
              "schema_version": 0,
              "values": {
                "acl": "public-read",
                "expected_bucket_owner": null
              },
              "sensitive_values": {
                "access_control_policy": []
              }
            },
            {
              "address": "module.environment.aws_s3_bucket_notification.s3_bucket_notification_cloudnativeapp-tf",
              "mode": "managed",
              "type": "aws_s3_bucket_notification",
              "name": "s3_bucket_notification_cloudnativeapp-tf",
              "provider_name": "registry.terraform.io/hashicorp/aws",
              "schema_version": 0,
              "values": {
                "eventbridge": false,
                "lambda_function": [],
                "queue": [],
                "topic": [
                  {
                    "events": [
                      "s3:ObjectCreated:*"
                    ],
                    "filter_prefix": null,
                    "filter_suffix": null
                  }
                ]
              },
              "sensitive_values": {
                "lambda_function": [],
                "queue": [],
                "topic": [
                  {
                    "events": [
                      false
                    ]
                  }
                ]
              }
            },
            {
              "address": "module.environment.aws_s3_bucket_ownership_controls.s3_bucket_oc_cloudnativeapp-tf",
              "mode": "managed",
              "type": "aws_s3_bucket_ownership_controls",
              "name": "s3_bucket_oc_cloudnativeapp-tf",
              "provider_name": "registry.terraform.io/hashicorp/aws",
              "schema_version": 0,
              "values": {
                "rule": [
                  {
                    "object_ownership": "BucketOwnerPreferred"
                  }
                ]
              },
              "sensitive_values": {
                "rule": [
                  {}
                ]
              }
            },
            {
              "address": "module.environment.aws_s3_bucket_policy.s3_bucket_policy_cloudnativeapp-tf",
              "mode": "managed",
              "type": "aws_s3_bucket_policy",
              "name": "s3_bucket_policy_cloudnativeapp-tf",
              "provider_name": "registry.terraform.io/hashicorp/aws",
              "schema_version": 0,
              "values": {
                "policy": "{\"Statement\":[{\"Action\":[\"s3:PutObjectAcl\",\"s3:PutObject\"],\"Effect\":\"Allow\",\"Principal\":{\"Service\":\"ecs-tasks.amazonaws.com\"},\"Resource\":[\"arn:aws:s3:::qa-bucket-cloudnativeapp1glom-tf/*\",\"arn:aws:s3:::qa-bucket-cloudnativeapp1glom-tf\"],\"Sid\":\"AllowECSPermissions\"},{\"Action\":[\"s3:ListBucket\",\"s3:GetObjectAttributes\",\"s3:GetObject\"],\"Effect\":\"Allow\",\"Principal\":{\"Service\":\"lambda.amazonaws.com\"},\"Resource\":[\"arn:aws:s3:::qa-bucket-cloudnativeapp1glom-tf/*\",\"arn:aws:s3:::qa-bucket-cloudnativeapp1glom-tf\"],\"Sid\":\"AllowLambdaPermissions\"}],\"Version\":\"2012-10-17\"}"
              },
              "sensitive_values": {}
            },
            {
              "address": "module.environment.aws_s3_bucket_public_access_block.s3_bucket_pab_cloudnativeapp-tf",
              "mode": "managed",
              "type": "aws_s3_bucket_public_access_block",
              "name": "s3_bucket_pab_cloudnativeapp-tf",
              "provider_name": "registry.terraform.io/hashicorp/aws",
              "schema_version": 0,
              "values": {
                "block_public_acls": true,
                "block_public_policy": true,
                "ignore_public_acls": true,
                "restrict_public_buckets": true
              },
              "sensitive_values": {}
            },
            {
              "address": "module.environment.aws_s3_bucket_server_side_encryption_configuration.s3_bucket_ssec_cloudnativeapp-tf",
              "mode": "managed",
              "type": "aws_s3_bucket_server_side_encryption_configuration",
              "name": "s3_bucket_ssec_cloudnativeapp-tf",
              "provider_name": "registry.terraform.io/hashicorp/aws",
              "schema_version": 0,
              "values": {
                "expected_bucket_owner": null,
                "rule": [
                  {
                    "apply_server_side_encryption_by_default": [
                      {
                        "kms_master_key_id": "",
                        "sse_algorithm": "AES256"
                      }
                    ],
                    "bucket_key_enabled": true
                  }
                ]
              },
              "sensitive_values": {
                "rule": [
                  {
                    "apply_server_side_encryption_by_default": [
                      {}
                    ]
                  }
                ]
              }
            },
            {
              "address": "module.environment.aws_security_group.ecr_api_sg",
              "mode": "managed",
              "type": "aws_security_group",
              "name": "ecr_api_sg",
              "provider_name": "registry.terraform.io/hashicorp/aws",
              "schema_version": 1,
              "values": {
                "description": "ECR API Security group",
                "egress": [
                  {
                    "cidr_blocks": [
                      "0.0.0.0/0"
                    ],
                    "description": "allow all egress traffic",
                    "from_port": 0,
                    "ipv6_cidr_blocks": [],
                    "prefix_list_ids": [],
                    "protocol": "tcp",
                    "security_groups": [],
                    "self": false,
                    "to_port": 65535
                  }
                ],
                "ingress": [
                  {
                    "cidr_blocks": [
                      "172.31.0.0/16"
                    ],
                    "description": "allow all ingress traffic from subnets",
                    "from_port": 0,
                    "ipv6_cidr_blocks": [],
                    "prefix_list_ids": [],
                    "protocol": "tcp",
                    "security_groups": [],
                    "self": false,
                    "to_port": 65535
                  }
                ],
                "revoke_rules_on_delete": false,
                "tags": null,
                "timeouts": null,
                "vpc_id": "vpc-0bc8d118b26e3aab1"
              },
              "sensitive_values": {
                "egress": [
                  {
                    "cidr_blocks": [
                      false
                    ],
                    "ipv6_cidr_blocks": [],
                    "prefix_list_ids": [],
                    "security_groups": []
                  }
                ],
                "ingress": [
                  {
                    "cidr_blocks": [
                      false
                    ],
                    "ipv6_cidr_blocks": [],
                    "prefix_list_ids": [],
                    "security_groups": []
                  }
                ],
                "tags_all": {}
              }
            },
            {
              "address": "module.environment.aws_security_group.ecr_dkr_sg",
              "mode": "managed",
              "type": "aws_security_group",
              "name": "ecr_dkr_sg",
              "provider_name": "registry.terraform.io/hashicorp/aws",
              "schema_version": 1,
              "values": {
                "description": "ECR DKR Security group",
                "egress": [
                  {
                    "cidr_blocks": [
                      "0.0.0.0/0"
                    ],
                    "description": "allow all egress traffic",
                    "from_port": 0,
                    "ipv6_cidr_blocks": [],
                    "prefix_list_ids": [],
                    "protocol": "tcp",
                    "security_groups": [],
                    "self": false,
                    "to_port": 65535
                  }
                ],
                "ingress": [
                  {
                    "cidr_blocks": [
                      "172.31.0.0/16"
                    ],
                    "description": "allow all ingress traffic from subnets",
                    "from_port": 0,
                    "ipv6_cidr_blocks": [],
                    "prefix_list_ids": [],
                    "protocol": "tcp",
                    "security_groups": [],
                    "self": false,
                    "to_port": 65535
                  }
                ],
                "revoke_rules_on_delete": false,
                "tags": null,
                "timeouts": null,
                "vpc_id": "vpc-0bc8d118b26e3aab1"
              },
              "sensitive_values": {
                "egress": [
                  {
                    "cidr_blocks": [
                      false
                    ],
                    "ipv6_cidr_blocks": [],
                    "prefix_list_ids": [],
                    "security_groups": []
                  }
                ],
                "ingress": [
                  {
                    "cidr_blocks": [
                      false
                    ],
                    "ipv6_cidr_blocks": [],
                    "prefix_list_ids": [],
                    "security_groups": []
                  }
                ],
                "tags_all": {}
              }
            },
            {
              "address": "module.environment.aws_security_group.logs_sg",
              "mode": "managed",
              "type": "aws_security_group",
              "name": "logs_sg",
              "provider_name": "registry.terraform.io/hashicorp/aws",
              "schema_version": 1,
              "values": {
                "description": "Logs Security group",
                "egress": [
                  {
                    "cidr_blocks": [
                      "0.0.0.0/0"
                    ],
                    "description": "allow all egress traffic",
                    "from_port": 0,
                    "ipv6_cidr_blocks": [],
                    "prefix_list_ids": [],
                    "protocol": "tcp",
                    "security_groups": [],
                    "self": false,
                    "to_port": 65535
                  }
                ],
                "ingress": [
                  {
                    "cidr_blocks": [
                      "172.31.0.0/16"
                    ],
                    "description": "allow all ingress traffic from subnets",
                    "from_port": 0,
                    "ipv6_cidr_blocks": [],
                    "prefix_list_ids": [],
                    "protocol": "tcp",
                    "security_groups": [],
                    "self": false,
                    "to_port": 65535
                  }
                ],
                "revoke_rules_on_delete": false,
                "tags": null,
                "timeouts": null,
                "vpc_id": "vpc-0bc8d118b26e3aab1"
              },
              "sensitive_values": {
                "egress": [
                  {
                    "cidr_blocks": [
                      false
                    ],
                    "ipv6_cidr_blocks": [],
                    "prefix_list_ids": [],
                    "security_groups": []
                  }
                ],
                "ingress": [
                  {
                    "cidr_blocks": [
                      false
                    ],
                    "ipv6_cidr_blocks": [],
                    "prefix_list_ids": [],
                    "security_groups": []
                  }
                ],
                "tags_all": {}
              }
            },
            {
              "address": "module.environment.aws_sns_topic.sns_image_notification-tf",
              "mode": "managed",
              "type": "aws_sns_topic",
              "name": "sns_image_notification-tf",
              "provider_name": "registry.terraform.io/hashicorp/aws",
              "schema_version": 0,
              "values": {
                "application_failure_feedback_role_arn": null,
                "application_success_feedback_role_arn": null,
                "application_success_feedback_sample_rate": null,
                "archive_policy": null,
                "content_based_deduplication": false,
                "delivery_policy": null,
                "display_name": null,
                "fifo_topic": false,
                "firehose_failure_feedback_role_arn": null,
                "firehose_success_feedback_role_arn": null,
                "firehose_success_feedback_sample_rate": null,
                "http_failure_feedback_role_arn": null,
                "http_success_feedback_role_arn": null,
                "http_success_feedback_sample_rate": null,
                "kms_master_key_id": null,
                "lambda_failure_feedback_role_arn": null,
                "lambda_success_feedback_role_arn": null,
                "lambda_success_feedback_sample_rate": null,
                "name": "qa-image-notification-cloudnativeapp1glom-tf",
                "sqs_failure_feedback_role_arn": null,
                "sqs_success_feedback_role_arn": null,
                "sqs_success_feedback_sample_rate": null,
                "tags": null
              },
              "sensitive_values": {
                "tags_all": {}
              }
            },
            {
              "address": "module.environment.aws_sns_topic_subscription.sns_image_notification_topic_subscription-tf",
              "mode": "managed",
              "type": "aws_sns_topic_subscription",
              "name": "sns_image_notification_topic_subscription-tf",
              "provider_name": "registry.terraform.io/hashicorp/aws",
              "schema_version": 0,
              "values": {
                "confirmation_timeout_in_minutes": 1,
                "delivery_policy": null,
                "endpoint_auto_confirms": false,
                "filter_policy": null,
                "protocol": "sqs",
                "raw_message_delivery": false,
                "redrive_policy": null,
                "replay_policy": null,
                "subscription_role_arn": null
              },
              "sensitive_values": {}
            },
            {
              "address": "module.environment.aws_sqs_queue.sqs_queue_cloudnativeapp-tf",
              "mode": "managed",
              "type": "aws_sqs_queue",
              "name": "sqs_queue_cloudnativeapp-tf",
              "provider_name": "registry.terraform.io/hashicorp/aws",
              "schema_version": 0,
              "values": {
                "content_based_deduplication": false,
                "delay_seconds": 0,
                "fifo_queue": false,
                "kms_master_key_id": null,
                "max_message_size": 262144,
                "message_retention_seconds": 345600,
                "name": "qa-queue-cloudnativeapp1glom-tf",
                "receive_wait_time_seconds": 0,
                "tags": null,
                "visibility_timeout_seconds": 30
              },
              "sensitive_values": {
                "tags_all": {}
              }
            },
            {
              "address": "module.environment.aws_sqs_queue_policy.sqs_queue_cloudnativeapp_policy",
              "mode": "managed",
              "type": "aws_sqs_queue_policy",
              "name": "sqs_queue_cloudnativeapp_policy",
              "provider_name": "registry.terraform.io/hashicorp/aws",
              "schema_version": 1,
              "sensitive_values": {}
            },
            {
              "address": "module.environment.aws_vpc_endpoint.dynamodb_endpoint",
              "mode": "managed",
              "type": "aws_vpc_endpoint",
              "name": "dynamodb_endpoint",
              "provider_name": "registry.terraform.io/hashicorp/aws",
              "schema_version": 0,
              "values": {
                "auto_accept": null,
                "private_dns_enabled": false,
                "service_name": "com.amazonaws.eu-west-1.dynamodb",
                "tags": null,
                "timeouts": null,
                "vpc_endpoint_type": "Gateway",
                "vpc_id": "vpc-0bc8d118b26e3aab1"
              },
              "sensitive_values": {
                "cidr_blocks": [],
                "dns_entry": [],
                "dns_options": [],
                "network_interface_ids": [],
                "route_table_ids": [],
                "security_group_ids": [],
                "subnet_ids": [],
                "tags_all": {}
              }
            },
            {
              "address": "module.environment.aws_vpc_endpoint.ecr_api_endpoint",
              "mode": "managed",
              "type": "aws_vpc_endpoint",
              "name": "ecr_api_endpoint",
              "provider_name": "registry.terraform.io/hashicorp/aws",
              "schema_version": 0,
              "values": {
                "auto_accept": null,
                "private_dns_enabled": true,
                "service_name": "com.amazonaws.eu-west-1.ecr.api",
                "subnet_ids": [
                  "subnet-01da444623a60d536",
                  "subnet-0e2759092403c537c"
                ],
                "tags": null,
                "timeouts": null,
                "vpc_endpoint_type": "Interface",
                "vpc_id": "vpc-0bc8d118b26e3aab1"
              },
              "sensitive_values": {
                "cidr_blocks": [],
                "dns_entry": [],
                "dns_options": [],
                "network_interface_ids": [],
                "route_table_ids": [],
                "security_group_ids": [],
                "subnet_ids": [
                  false,
                  false
                ],
                "tags_all": {}
              }
            },
            {
              "address": "module.environment.aws_vpc_endpoint.ecr_dkr_endpoint",
              "mode": "managed",
              "type": "aws_vpc_endpoint",
              "name": "ecr_dkr_endpoint",
              "provider_name": "registry.terraform.io/hashicorp/aws",
              "schema_version": 0,
              "values": {
                "auto_accept": null,
                "private_dns_enabled": true,
                "service_name": "com.amazonaws.eu-west-1.ecr.dkr",
                "subnet_ids": [
                  "subnet-01da444623a60d536",
                  "subnet-0e2759092403c537c"
                ],
                "tags": null,
                "timeouts": null,
                "vpc_endpoint_type": "Interface",
                "vpc_id": "vpc-0bc8d118b26e3aab1"
              },
              "sensitive_values": {
                "cidr_blocks": [],
                "dns_entry": [],
                "dns_options": [],
                "network_interface_ids": [],
                "route_table_ids": [],
                "security_group_ids": [],
                "subnet_ids": [
                  false,
                  false
                ],
                "tags_all": {}
              }
            },
            {
              "address": "module.environment.aws_vpc_endpoint.logs_endpoint",
              "mode": "managed",
              "type": "aws_vpc_endpoint",
              "name": "logs_endpoint",
              "provider_name": "registry.terraform.io/hashicorp/aws",
              "schema_version": 0,
              "values": {
                "auto_accept": null,
                "private_dns_enabled": true,
                "service_name": "com.amazonaws.eu-west-1.logs",
                "subnet_ids": [
                  "subnet-01da444623a60d536",
                  "subnet-0e2759092403c537c"
                ],
                "tags": null,
                "timeouts": null,
                "vpc_endpoint_type": "Interface",
                "vpc_id": "vpc-0bc8d118b26e3aab1"
              },
              "sensitive_values": {
                "cidr_blocks": [],
                "dns_entry": [],
                "dns_options": [],
                "network_interface_ids": [],
                "route_table_ids": [],
                "security_group_ids": [],
                "subnet_ids": [
                  false,
                  false
                ],
                "tags_all": {}
              }
            },
            {
              "address": "module.environment.aws_vpc_endpoint.s3_endpoint",
              "mode": "managed",
              "type": "aws_vpc_endpoint",
              "name": "s3_endpoint",
              "provider_name": "registry.terraform.io/hashicorp/aws",
              "schema_version": 0,
              "values": {
                "auto_accept": null,
                "private_dns_enabled": false,
                "service_name": "com.amazonaws.eu-west-1.s3",
                "tags": null,
                "timeouts": null,
                "vpc_endpoint_type": "Gateway",
                "vpc_id": "vpc-0bc8d118b26e3aab1"
              },
              "sensitive_values": {
                "cidr_blocks": [],
                "dns_entry": [],
                "dns_options": [],
                "network_interface_ids": [],
                "route_table_ids": [],
                "security_group_ids": [],
                "subnet_ids": [],
                "tags_all": {}
              }
            },
            {
              "address": "module.environment.data.aws_iam_policy_document.sns_iam_pd_cloudnativeapp-tf",
              "mode": "data",
              "type": "aws_iam_policy_document",
              "name": "sns_iam_pd_cloudnativeapp-tf",
              "provider_name": "registry.terraform.io/hashicorp/aws",
              "schema_version": 0,
              "values": {
                "override_json": null,
                "override_policy_documents": null,
                "policy_id": null,
                "source_json": null,
                "source_policy_documents": null,
                "statement": [
                  {
                    "actions": [
                      "sns:Publish"
                    ],
                    "condition": [
                      {
                        "test": "ArnLike",
                        "values": [
                          null
                        ],
                        "variable": "aws:SourceArn"
                      }
                    ],
                    "effect": "Allow",
                    "not_actions": null,
                    "not_principals": [],
                    "not_resources": null,
                    "principals": [
                      {
                        "identifiers": [
                          "s3.amazonaws.com"
                        ],
                        "type": "Service"
                      }
                    ],
                    "resources": [
                      "arn:aws:sns:*:*:qa-image-notification-cloudnativeapp1glom-tf"
                    ],
                    "sid": "AllowPublishNewMessages"
                  }
                ],
                "version": null
              },
              "sensitive_values": {
                "statement": [
                  {
                    "actions": [
                      false
                    ],
                    "condition": [
                      {
                        "values": [
                          false
                        ]
                      }
                    ],
                    "not_principals": [],
                    "principals": [
                      {
                        "identifiers": [
                          false
                        ]
                      }
                    ],
                    "resources": [
                      false
                    ]
                  }
                ]
              }
            },
            {
              "address": "module.environment.data.aws_iam_policy_document.sqs_iam_pd_cloudnativeapp-tf",
              "mode": "data",
              "type": "aws_iam_policy_document",
              "name": "sqs_iam_pd_cloudnativeapp-tf",
              "provider_name": "registry.terraform.io/hashicorp/aws",
              "schema_version": 0,
              "values": {
                "override_json": null,
                "override_policy_documents": null,
                "policy_id": null,
                "source_json": null,
                "source_policy_documents": null,
                "statement": [
                  {
                    "actions": [
                      "sqs:SendMessage"
                    ],
                    "condition": [
                      {
                        "test": "ArnEquals",
                        "values": [
                          null
                        ],
                        "variable": "aws:SourceArn"
                      }
                    ],
                    "effect": "Allow",
                    "not_actions": null,
                    "not_principals": [],
                    "not_resources": null,
                    "principals": [
                      {
                        "identifiers": [
                          "sns.amazonaws.com"
                        ],
                        "type": "Service"
                      }
                    ],
                    "resources": [
                      "arn:aws:sqs:*:*:qa-queue-cloudnativeapp1glom-tf"
                    ],
                    "sid": "AllowSendMessages"
                  }
                ],
                "version": null
              },
              "sensitive_values": {
                "statement": [
                  {
                    "actions": [
                      false
                    ],
                    "condition": [
                      {
                        "values": [
                          false
                        ]
                      }
                    ],
                    "not_principals": [],
                    "principals": [
                      {
                        "identifiers": [
                          false
                        ]
                      }
                    ],
                    "resources": [
                      false
                    ]
                  }
                ]
              }
            },
            {
              "address": "module.environment.data.aws_subnet.default_subnets_cidr_blocks[\"172.31.0.0/20\"]",
              "mode": "data",
              "type": "aws_subnet",
              "name": "default_subnets_cidr_blocks",
              "index": "172.31.0.0/20",
              "provider_name": "registry.terraform.io/hashicorp/aws",
              "schema_version": 0,
              "values": {
                "cidr_block": "172.31.0.0/20",
                "filter": [],
                "timeouts": null
              },
              "sensitive_values": {
                "filter": [],
                "tags": {}
              }
            },
            {
              "address": "module.environment.data.aws_subnet.default_subnets_cidr_blocks[\"172.31.16.0/20\"]",
              "mode": "data",
              "type": "aws_subnet",
              "name": "default_subnets_cidr_blocks",
              "index": "172.31.16.0/20",
              "provider_name": "registry.terraform.io/hashicorp/aws",
              "schema_version": 0,
              "values": {
                "cidr_block": "172.31.16.0/20",
                "filter": [],
                "timeouts": null
              },
              "sensitive_values": {
                "filter": [],
                "tags": {}
              }
            }
          ],
          "address": "module.environment"
        }
      ]
    }
  },
  "resource_changes": [
    {
      "address": "module.application.aws_cloudwatch_log_group.cloudwatch_log_group",
      "module_address": "module.application",
      "mode": "managed",
      "type": "aws_cloudwatch_log_group",
      "name": "cloudwatch_log_group",
      "provider_name": "registry.terraform.io/hashicorp/aws",
      "change": {
        "actions": [
          "create"
        ],
        "before": null,
        "after": {
          "kms_key_id": null,
          "name": "QaCloudnativeappTfCloudwatchLogGroup",
          "retention_in_days": 0,
          "skip_destroy": false,
          "tags": null
        },
        "after_unknown": {
          "arn": true,
          "id": true,
          "log_group_class": true,
          "name_prefix": true,
          "tags_all": true
        },
        "before_sensitive": false,
        "after_sensitive": {
          "tags_all": {}
        }
      }
    },
    {
      "address": "module.application.aws_ecs_cluster.ecs_cluster",
      "module_address": "module.application",
      "mode": "managed",
      "type": "aws_ecs_cluster",
      "name": "ecs_cluster",
      "provider_name": "registry.terraform.io/hashicorp/aws",
      "change": {
        "actions": [
          "create"
        ],
        "before": null,
        "after": {
          "configuration": [],
          "name": "qa_ecs_cluster_cloudnativeapp-tf",
          "service_connect_defaults": [],
          "setting": [
            {
              "name": "containerInsights",
              "value": "enabled"
            }
          ],
          "tags": null
        },
        "after_unknown": {
          "arn": true,
          "configuration": [],
          "id": true,
          "service_connect_defaults": [],
          "setting": [
            {}
          ],
          "tags_all": true
        },
        "before_sensitive": false,
        "after_sensitive": {
          "configuration": [],
          "service_connect_defaults": [],
          "setting": [
            {}
          ],
          "tags_all": {}
        }
      }
    },
    {
      "address": "module.application.aws_ecs_service.ecs_service",
      "module_address": "module.application",
      "mode": "managed",
      "type": "aws_ecs_service",
      "name": "ecs_service",
      "provider_name": "registry.terraform.io/hashicorp/aws",
      "change": {
        "actions": [
          "create"
        ],
        "before": null,
        "after": {
          "alarms": [],
          "capacity_provider_strategy": [],
          "deployment_circuit_breaker": [],
          "deployment_controller": [],
          "deployment_maximum_percent": 200,
          "deployment_minimum_healthy_percent": 100,
          "desired_count": 2,
          "enable_ecs_managed_tags": false,
          "enable_execute_command": false,
          "force_new_deployment": null,
          "health_check_grace_period_seconds": null,
          "launch_type": "FARGATE",
          "load_balancer": [
            {
              "container_name": "cloudnativeapp-1",
              "container_port": 8080,
              "elb_name": ""
            }
          ],
          "name": "QaCloudNativeApp1TFService",
          "network_configuration": [
            {
              "assign_public_ip": true,
              "subnets": [
                "subnet-01da444623a60d536",
                "subnet-0e2759092403c537c"
              ]
            }
          ],
          "ordered_placement_strategy": [],
          "placement_constraints": [],
          "propagate_tags": null,
          "scheduling_strategy": "REPLICA",
          "service_connect_configuration": [],
          "service_registries": [],
          "tags": null,
          "timeouts": null,
          "wait_for_steady_state": false
        },
        "after_unknown": {
          "alarms": [],
          "capacity_provider_strategy": [],
          "cluster": true,
          "deployment_circuit_breaker": [],
          "deployment_controller": [],
          "iam_role": true,
          "id": true,
          "load_balancer": [
            {
              "target_group_arn": true
            }
          ],
          "network_configuration": [
            {
              "security_groups": true,
              "subnets": [
                false,
                false
              ]
            }
          ],
          "ordered_placement_strategy": [],
          "placement_constraints": [],
          "platform_version": true,
          "service_connect_configuration": [],
          "service_registries": [],
          "tags_all": true,
          "task_definition": true,
          "triggers": true
        },
        "before_sensitive": false,
        "after_sensitive": {
          "alarms": [],
          "capacity_provider_strategy": [],
          "deployment_circuit_breaker": [],
          "deployment_controller": [],
          "load_balancer": [
            {}
          ],
          "network_configuration": [
            {
              "security_groups": [],
              "subnets": [
                false,
                false
              ]
            }
          ],
          "ordered_placement_strategy": [],
          "placement_constraints": [],
          "service_connect_configuration": [],
          "service_registries": [],
          "tags_all": {},
          "triggers": {}
        }
      }
    },
    {
      "address": "module.application.aws_ecs_task_definition.ecs_task_definition",
      "module_address": "module.application",
      "mode": "managed",
      "type": "aws_ecs_task_definition",
      "name": "ecs_task_definition",
      "provider_name": "registry.terraform.io/hashicorp/aws",
      "change": {
        "actions": [
          "create"
        ],
        "before": null,
        "after": {
          "container_definitions": "[{\"environment\":[{\"name\":\"AWS_DEFAULT_REGION\",\"value\":\"eu-west-1\"},{\"name\":\"DYNAMODB_TABLE_NAME\",\"value\":\"QaCloudNativeApp1Table-tf\"},{\"name\":\"S3_BUCKET_NAME\",\"value\":\"qa-bucket-cloudnativeapp1glom-tf\"}],\"essential\":true,\"image\":\"381492307166.dkr.ecr.eu-west-1.amazonaws.com/cloudnativeapp-1:latest\",\"logConfiguration\":{\"logDriver\":\"awslogs\",\"options\":{\"awslogs-create-group\":\"true\",\"awslogs-group\":\"/ecs/QaCloudnativeappTfCloudwatchLogGroup\",\"awslogs-region\":\"eu-west-1\",\"awslogs-stream-prefix\":\"ecs\"},\"secretOptions\":[]},\"name\":\"cloudnativeapp-1\",\"portMappings\":[{\"appProtocol\":\"http\",\"containerPort\":8080,\"hostPort\":8080,\"name\":\"cloudnativeapp-1-tf-8080-tcp\",\"protocol\":\"tcp\"}]}]",
          "cpu": "1024",
          "ephemeral_storage": [],
          "family": "Qa_CloudNativeApp1_TF_Task_Definition_Family",
          "inference_accelerator": [],
          "ipc_mode": null,
          "memory": "3072",
          "network_mode": "awsvpc",
          "pid_mode": null,
          "placement_constraints": [],
          "proxy_configuration": [],
          "requires_compatibilities": [
            "FARGATE"
          ],
          "runtime_platform": [],
          "skip_destroy": false,
          "tags": null,
          "track_latest": false,
          "volume": []
        },
        "after_unknown": {
          "arn": true,
          "arn_without_revision": true,
          "ephemeral_storage": [],
          "execution_role_arn": true,
          "id": true,
          "inference_accelerator": [],
          "placement_constraints": [],
          "proxy_configuration": [],
          "requires_compatibilities": [
            false
          ],
          "revision": true,
          "runtime_platform": [],
          "tags_all": true,
          "task_role_arn": true,
          "volume": []
        },
        "before_sensitive": false,
        "after_sensitive": {
          "ephemeral_storage": [],
          "inference_accelerator": [],
          "placement_constraints": [],
          "proxy_configuration": [],
          "requires_compatibilities": [
            false
          ],
          "runtime_platform": [],
          "tags_all": {},
          "volume": []
        }
      }
    },
    {
      "address": "module.application.aws_iam_policy.lambda_iam_policy",
      "module_address": "module.application",
      "mode": "managed",
      "type": "aws_iam_policy",
      "name": "lambda_iam_policy",
      "provider_name": "registry.terraform.io/hashicorp/aws",
      "change": {
        "actions": [
          "create"
        ],
        "before": null,
        "after": {
          "description": "A policy for lambda",
          "name": "qa_lambda_iam_policy_cloudnativeapp-tf",
          "path": "/",
          "policy": "{\"Statement\":[{\"Action\":[\"sqs:DeleteMessage\",\"sqs:GetQueueAttributes\",\"sqs:ReceiveMessage\"],\"Effect\":\"Allow\",\"Resource\":\"*\"},{\"Action\":[\"dynamodb:GetItem\",\"dynamodb:PutItem\",\"dynamodb:UpdateItem\",\"dynamodb:BatchWriteItem\",\"dynamodb:BatchGetItem\"],\"Effect\":\"Allow\",\"Resource\":\"*\"},{\"Action\":[\"rekognition:DetectLabels\"],\"Effect\":\"Allow\",\"Resource\":\"*\"},{\"Action\":[\"s3:GetObject\"],\"Effect\":\"Allow\",\"Resource\":\"*\"}],\"Version\":\"2012-10-17\"}",
          "tags": null
        },
        "after_unknown": {
          "arn": true,
          "attachment_count": true,
          "id": true,
          "name_prefix": true,
          "policy_id": true,
          "tags_all": true
        },
        "before_sensitive": false,
        "after_sensitive": {
          "tags_all": {}
        }
      }
    },
    {
      "address": "module.application.aws_iam_policy_attachment.ecs_te_apprunnerservice_iam_policy_attachment",
      "module_address": "module.application",
      "mode": "managed",
      "type": "aws_iam_policy_attachment",
      "name": "ecs_te_apprunnerservice_iam_policy_attachment",
      "provider_name": "registry.terraform.io/hashicorp/aws",
      "change": {
        "actions": [
          "create"
        ],
        "before": null,
        "after": {
          "groups": null,
          "name": "qa_ecs_te_apprunnerservice_iam_policy_attachment_cloudnativeapp-tf",
          "policy_arn": "arn:aws:iam::aws:policy/service-role/AWSAppRunnerServicePolicyForECRAccess",
          "roles": [
            "qa_ecs_task_execution_role_cloudnativeapp-tf"
          ],
          "users": null
        },
        "after_unknown": {
          "id": true,
          "roles": [
            false
          ]
        },
        "before_sensitive": false,
        "after_sensitive": {
          "roles": [
            false
          ]
        }
      }
    },
    {
      "address": "module.application.aws_iam_policy_attachment.ecs_te_cloudwatch_iam_policy_attachment",
      "module_address": "module.application",
      "mode": "managed",
      "type": "aws_iam_policy_attachment",
      "name": "ecs_te_cloudwatch_iam_policy_attachment",
      "provider_name": "registry.terraform.io/hashicorp/aws",
      "change": {
        "actions": [
          "create"
        ],
        "before": null,
        "after": {
          "groups": null,
          "name": "qa_ecs_te_cloudwatch_iam_policy_attachment_cloudnativeapp-tf",
          "policy_arn": "arn:aws:iam::aws:policy/CloudWatchLogsFullAccess",
          "roles": [
            "qa_ecs_task_execution_role_cloudnativeapp-tf"
          ],
          "users": null
        },
        "after_unknown": {
          "id": true,
          "roles": [
            false
          ]
        },
        "before_sensitive": false,
        "after_sensitive": {
          "roles": [
            false
          ]
        }
      }
    },
    {
      "address": "module.application.aws_iam_policy_attachment.ecs_tt_dynamodb_iam_policy_attachment",
      "module_address": "module.application",
      "mode": "managed",
      "type": "aws_iam_policy_attachment",
      "name": "ecs_tt_dynamodb_iam_policy_attachment",
      "provider_name": "registry.terraform.io/hashicorp/aws",
      "change": {
        "actions": [
          "create"
        ],
        "before": null,
        "after": {
          "groups": null,
          "name": "qa_ecs_tt_amazondynamodb_iam_policy_attachment_cloudnativeapp-tf",
          "policy_arn": "arn:aws:iam::aws:policy/AmazonDynamoDBFullAccess",
          "roles": [
            "qa_ecs_task_task_role_cloudnativeapp-tf"
          ],
          "users": null
        },
        "after_unknown": {
          "id": true,
          "roles": [
            false
          ]
        },
        "before_sensitive": false,
        "after_sensitive": {
          "roles": [
            false
          ]
        }
      }
    },
    {
      "address": "module.application.aws_iam_policy_attachment.ecs_tt_s3_iam_policy_attachment",
      "module_address": "module.application",
      "mode": "managed",
      "type": "aws_iam_policy_attachment",
      "name": "ecs_tt_s3_iam_policy_attachment",
      "provider_name": "registry.terraform.io/hashicorp/aws",
      "change": {
        "actions": [
          "create"
        ],
        "before": null,
        "after": {
          "groups": null,
          "name": "qa_ecs_tt_amazons3_iam_policy_attachment_cloudnativeapp-tf",
          "policy_arn": "arn:aws:iam::aws:policy/AmazonS3FullAccess",
          "roles": [
            "qa_ecs_task_task_role_cloudnativeapp-tf"
          ],
          "users": null
        },
        "after_unknown": {
          "id": true,
          "roles": [
            false
          ]
        },
        "before_sensitive": false,
        "after_sensitive": {
          "roles": [
            false
          ]
        }
      }
    },
    {
      "address": "module.application.aws_iam_policy_attachment.lambda_iam_policy_attachment",
      "module_address": "module.application",
      "mode": "managed",
      "type": "aws_iam_policy_attachment",
      "name": "lambda_iam_policy_attachment",
      "provider_name": "registry.terraform.io/hashicorp/aws",
      "change": {
        "actions": [
          "create"
        ],
        "before": null,
        "after": {
          "groups": null,
          "name": "qa_lambda_iam_policy_attachment_cloudnativeapp-tf",
          "roles": [
            "qa_lambda_iam_role_cloudnativeapp-tf"
          ],
          "users": null
        },
        "after_unknown": {
          "id": true,
          "policy_arn": true,
          "roles": [
            false
          ]
        },
        "before_sensitive": false,
        "after_sensitive": {
          "roles": [
            false
          ]
        }
      }
    },
    {
      "address": "module.application.aws_iam_role.ecs_task_execution_role",
      "module_address": "module.application",
      "mode": "managed",
      "type": "aws_iam_role",
      "name": "ecs_task_execution_role",
      "provider_name": "registry.terraform.io/hashicorp/aws",
      "change": {
        "actions": [
          "create"
        ],
        "before": null,
        "after": {
          "assume_role_policy": "{\"Statement\":[{\"Action\":\"sts:AssumeRole\",\"Effect\":\"Allow\",\"Principal\":{\"Service\":\"ecs-tasks.amazonaws.com\"}}],\"Version\":\"2012-10-17\"}",
          "description": null,
          "force_detach_policies": false,
          "max_session_duration": 3600,
          "name": "qa_ecs_task_execution_role_cloudnativeapp-tf",
          "path": "/",
          "permissions_boundary": null,
          "tags": null
        },
        "after_unknown": {
          "arn": true,
          "create_date": true,
          "id": true,
          "inline_policy": true,
          "managed_policy_arns": true,
          "name_prefix": true,
          "tags_all": true,
          "unique_id": true
        },
        "before_sensitive": false,
        "after_sensitive": {
          "inline_policy": [],
          "managed_policy_arns": [],
          "tags_all": {}
        }
      }
    },
    {
      "address": "module.application.aws_iam_role.ecs_task_task_role",
      "module_address": "module.application",
      "mode": "managed",
      "type": "aws_iam_role",
      "name": "ecs_task_task_role",
      "provider_name": "registry.terraform.io/hashicorp/aws",
      "change": {
        "actions": [
          "create"
        ],
        "before": null,
        "after": {
          "assume_role_policy": "{\"Statement\":[{\"Action\":\"sts:AssumeRole\",\"Effect\":\"Allow\",\"Principal\":{\"Service\":\"ecs-tasks.amazonaws.com\"}}],\"Version\":\"2012-10-17\"}",
          "description": null,
          "force_detach_policies": false,
          "max_session_duration": 3600,
          "name": "qa_ecs_task_task_role_cloudnativeapp-tf",
          "path": "/",
          "permissions_boundary": null,
          "tags": null
        },
        "after_unknown": {
          "arn": true,
          "create_date": true,
          "id": true,
          "inline_policy": true,
          "managed_policy_arns": true,
          "name_prefix": true,
          "tags_all": true,
          "unique_id": true
        },
        "before_sensitive": false,
        "after_sensitive": {
          "inline_policy": [],
          "managed_policy_arns": [],
          "tags_all": {}
        }
      }
    },
    {
      "address": "module.application.aws_iam_role.lambda_iam_role",
      "module_address": "module.application",
      "mode": "managed",
      "type": "aws_iam_role",
      "name": "lambda_iam_role",
      "provider_name": "registry.terraform.io/hashicorp/aws",
      "change": {
        "actions": [
          "create"
        ],
        "before": null,
        "after": {
          "assume_role_policy": "{\"Statement\":[{\"Action\":\"sts:AssumeRole\",\"Effect\":\"Allow\",\"Principal\":{\"Service\":\"lambda.amazonaws.com\"}}],\"Version\":\"2012-10-17\"}",
          "description": null,
          "force_detach_policies": false,
          "max_session_duration": 3600,
          "name": "qa_lambda_iam_role_cloudnativeapp-tf",
          "path": "/",
          "permissions_boundary": null,
          "tags": null
        },
        "after_unknown": {
          "arn": true,
          "create_date": true,
          "id": true,
          "inline_policy": true,
          "managed_policy_arns": true,
          "name_prefix": true,
          "tags_all": true,
          "unique_id": true
        },
        "before_sensitive": false,
        "after_sensitive": {
          "inline_policy": [],
          "managed_policy_arns": [],
          "tags_all": {}
        }
      }
    },
    {
      "address": "module.application.aws_iam_role_policy_attachment.lambda_basic_execution_policy",
      "module_address": "module.application",
      "mode": "managed",
      "type": "aws_iam_role_policy_attachment",
      "name": "lambda_basic_execution_policy",
      "provider_name": "registry.terraform.io/hashicorp/aws",
      "change": {
        "actions": [
          "create"
        ],
        "before": null,
        "after": {
          "policy_arn": "arn:aws:iam::aws:policy/service-role/AWSLambdaBasicExecutionRole",
          "role": "qa_lambda_iam_role_cloudnativeapp-tf"
        },
        "after_unknown": {
          "id": true
        },
        "before_sensitive": false,
        "after_sensitive": {}
      }
    },
    {
      "address": "module.application.aws_iam_role_policy_attachment.lambda_basic_sqs_queue_execution_policy",
      "module_address": "module.application",
      "mode": "managed",
      "type": "aws_iam_role_policy_attachment",
      "name": "lambda_basic_sqs_queue_execution_policy",
      "provider_name": "registry.terraform.io/hashicorp/aws",
      "change": {
        "actions": [
          "create"
        ],
        "before": null,
        "after": {
          "policy_arn": "arn:aws:iam::aws:policy/service-role/AWSLambdaSQSQueueExecutionRole",
          "role": "qa_lambda_iam_role_cloudnativeapp-tf"
        },
        "after_unknown": {
          "id": true
        },
        "before_sensitive": false,
        "after_sensitive": {}
      }
    },
    {
      "address": "module.application.aws_lambda_event_source_mapping.lambda_test_sqs_trigger",
      "module_address": "module.application",
      "mode": "managed",
      "type": "aws_lambda_event_source_mapping",
      "name": "lambda_test_sqs_trigger",
      "provider_name": "registry.terraform.io/hashicorp/aws",
      "change": {
        "actions": [
          "create"
        ],
        "before": null,
        "after": {
          "batch_size": null,
          "bisect_batch_on_function_error": null,
          "destination_config": [],
          "document_db_event_source_config": [],
          "enabled": true,
          "filter_criteria": [],
          "function_response_types": null,
          "maximum_batching_window_in_seconds": null,
          "queues": null,
          "scaling_config": [],
          "self_managed_event_source": [],
          "source_access_configuration": [],
          "starting_position": null,
          "starting_position_timestamp": null,
          "topics": null,
          "tumbling_window_in_seconds": null
        },
        "after_unknown": {
          "amazon_managed_kafka_event_source_config": true,
          "destination_config": [],
          "document_db_event_source_config": [],
          "event_source_arn": true,
          "filter_criteria": [],
          "function_arn": true,
          "function_name": true,
          "id": true,
          "last_modified": true,
          "last_processing_result": true,
          "maximum_record_age_in_seconds": true,
          "maximum_retry_attempts": true,
          "parallelization_factor": true,
          "scaling_config": [],
          "self_managed_event_source": [],
          "self_managed_kafka_event_source_config": true,
          "source_access_configuration": [],
          "state": true,
          "state_transition_reason": true,
          "uuid": true
        },
        "before_sensitive": false,
        "after_sensitive": {
          "amazon_managed_kafka_event_source_config": [],
          "destination_config": [],
          "document_db_event_source_config": [],
          "filter_criteria": [],
          "scaling_config": [],
          "self_managed_event_source": [],
          "self_managed_kafka_event_source_config": [],
          "source_access_configuration": []
        }
      }
    },
    {
      "address": "module.application.aws_lambda_function.lambda_function",
      "module_address": "module.application",
      "mode": "managed",
      "type": "aws_lambda_function",
      "name": "lambda_function",
      "provider_name": "registry.terraform.io/hashicorp/aws",
      "change": {
        "actions": [
          "create"
        ],
        "before": null,
        "after": {
          "code_signing_config_arn": null,
          "dead_letter_config": [],
          "description": null,
          "environment": [
            {
              "variables": {
                "dynamodb_name": "QaCloudNativeApp1Table-tf"
              }
            }
          ],
          "file_system_config": [],
          "filename": "../modules/tf-application/lambda_function_payload.zip",
          "function_name": "qa_lambda_cloudnativeapp-tf",
          "handler": "index.lambda_handler",
          "image_config": [],
          "image_uri": null,
          "kms_key_arn": null,
          "layers": null,
          "memory_size": 128,
          "package_type": "Zip",
          "publish": false,
          "replace_security_groups_on_destroy": null,
          "replacement_security_group_ids": null,
          "reserved_concurrent_executions": -1,
          "runtime": "python3.12",
          "s3_bucket": null,
          "s3_key": null,
          "s3_object_version": null,
          "skip_destroy": false,
          "snap_start": [],
          "source_code_hash": "U5G1VRDH4ze1gtOD8ZL+qHzJTfrnImO0SqZ/mqpHSZk=",
          "tags": null,
          "timeout": 3,
          "timeouts": null,
          "vpc_config": []
        },
        "after_unknown": {
          "architectures": true,
          "arn": true,
          "dead_letter_config": [],
          "environment": [
            {
              "variables": {}
            }
          ],
          "ephemeral_storage": true,
          "file_system_config": [],
          "id": true,
          "image_config": [],
          "invoke_arn": true,
          "last_modified": true,
          "logging_config": true,
          "qualified_arn": true,
          "qualified_invoke_arn": true,
          "role": true,
          "signing_job_arn": true,
          "signing_profile_version_arn": true,
          "snap_start": [],
          "source_code_size": true,
          "tags_all": true,
          "tracing_config": true,
          "version": true,
          "vpc_config": []
        },
        "before_sensitive": false,
        "after_sensitive": {
          "architectures": [],
          "dead_letter_config": [],
          "environment": [
            {
              "variables": {}
            }
          ],
          "ephemeral_storage": [],
          "file_system_config": [],
          "image_config": [],
          "logging_config": [],
          "snap_start": [],
          "tags_all": {},
          "tracing_config": [],
          "vpc_config": []
        }
      }
    },
    {
      "address": "module.application.aws_lb.load_balancer",
      "module_address": "module.application",
      "mode": "managed",
      "type": "aws_lb",
      "name": "load_balancer",
      "provider_name": "registry.terraform.io/hashicorp/aws",
      "change": {
        "actions": [
          "create"
        ],
        "before": null,
        "after": {
          "access_logs": [],
          "client_keep_alive": 3600,
          "connection_logs": [],
          "customer_owned_ipv4_pool": null,
          "desync_mitigation_mode": "defensive",
          "dns_record_client_routing_policy": null,
          "drop_invalid_header_fields": true,
          "enable_cross_zone_load_balancing": null,
          "enable_deletion_protection": false,
          "enable_http2": true,
          "enable_tls_version_and_cipher_suite_headers": false,
          "enable_waf_fail_open": false,
          "enable_xff_client_port": false,
          "idle_timeout": 60,
          "internal": false,
          "load_balancer_type": "application",
          "name": "QaCloudnativeappTfLb",
          "preserve_host_header": false,
          "subnets": [
            "subnet-01da444623a60d536",
            "subnet-0e2759092403c537c"
          ],
          "tags": null,
          "timeouts": null,
          "xff_header_processing_mode": "append"
        },
        "after_unknown": {
          "access_logs": [],
          "arn": true,
          "arn_suffix": true,
          "connection_logs": [],
          "dns_name": true,
          "enforce_security_group_inbound_rules_on_private_link_traffic": true,
          "id": true,
          "ip_address_type": true,
          "name_prefix": true,
          "security_groups": true,
          "subnet_mapping": true,
          "subnets": [
            false,
            false
          ],
          "tags_all": true,
          "vpc_id": true,
          "zone_id": true
        },
        "before_sensitive": false,
        "after_sensitive": {
          "access_logs": [],
          "connection_logs": [],
          "security_groups": [],
          "subnet_mapping": [],
          "subnets": [
            false,
            false
          ],
          "tags_all": {}
        }
      }
    },
    {
      "address": "module.application.aws_lb_listener.lb_listener",
      "module_address": "module.application",
      "mode": "managed",
      "type": "aws_lb_listener",
      "name": "lb_listener",
      "provider_name": "registry.terraform.io/hashicorp/aws",
      "change": {
        "actions": [
          "create"
        ],
        "before": null,
        "after": {
          "alpn_policy": null,
          "certificate_arn": null,
          "default_action": [
            {
              "authenticate_cognito": [],
              "authenticate_oidc": [],
              "fixed_response": [],
              "forward": [],
              "redirect": [],
              "type": "forward"
            }
          ],
          "port": 80,
          "protocol": "HTTP",
          "tags": null,
          "timeouts": null
        },
        "after_unknown": {
          "arn": true,
          "default_action": [
            {
              "authenticate_cognito": [],
              "authenticate_oidc": [],
              "fixed_response": [],
              "forward": [],
              "order": true,
              "redirect": [],
              "target_group_arn": true
            }
          ],
          "id": true,
          "load_balancer_arn": true,
          "mutual_authentication": true,
          "ssl_policy": true,
          "tags_all": true
        },
        "before_sensitive": false,
        "after_sensitive": {
          "default_action": [
            {
              "authenticate_cognito": [],
              "authenticate_oidc": [],
              "fixed_response": [],
              "forward": [],
              "redirect": []
            }
          ],
          "mutual_authentication": [],
          "tags_all": {}
        }
      }
    },
    {
      "address": "module.application.aws_lb_target_group.lb_target_group",
      "module_address": "module.application",
      "mode": "managed",
      "type": "aws_lb_target_group",
      "name": "lb_target_group",
      "provider_name": "registry.terraform.io/hashicorp/aws",
      "change": {
        "actions": [
          "create"
        ],
        "before": null,
        "after": {
          "deregistration_delay": "300",
          "health_check": [
            {
              "enabled": true,
              "healthy_threshold": 3,
              "interval": 30,
              "path": "/",
              "port": "traffic-port",
              "protocol": "HTTP",
              "unhealthy_threshold": 3
            }
          ],
          "lambda_multi_value_headers_enabled": false,
          "name": "QaCloudnativeappTfLbTg",
          "port": 80,
          "protocol": "HTTP",
          "proxy_protocol_v2": false,
          "slow_start": 0,
          "tags": null,
          "target_type": "ip",
          "vpc_id": "vpc-0bc8d118b26e3aab1"
        },
        "after_unknown": {
          "arn": true,
          "arn_suffix": true,
          "connection_termination": true,
          "health_check": [
            {
              "matcher": true,
              "timeout": true
            }
          ],
          "id": true,
          "ip_address_type": true,
          "load_balancer_arns": true,
          "load_balancing_algorithm_type": true,
          "load_balancing_anomaly_mitigation": true,
          "load_balancing_cross_zone_enabled": true,
          "name_prefix": true,
          "preserve_client_ip": true,
          "protocol_version": true,
          "stickiness": true,
          "tags_all": true,
          "target_failover": true,
          "target_health_state": true
        },
        "before_sensitive": false,
        "after_sensitive": {
          "health_check": [
            {}
          ],
          "load_balancer_arns": [],
          "stickiness": [],
          "tags_all": {},
          "target_failover": [],
          "target_health_state": []
        }
      }
    },
    {
      "address": "module.application.aws_security_group.ecs_service_security_group",
      "module_address": "module.application",
      "mode": "managed",
      "type": "aws_security_group",
      "name": "ecs_service_security_group",
      "provider_name": "registry.terraform.io/hashicorp/aws",
      "change": {
        "actions": [
          "create"
        ],
        "before": null,
        "after": {
          "description": "Allow all inbound traffic and all outbound traffic",
          "name": "ecs_service_security_group_cloudnativeapp1-tf",
          "revoke_rules_on_delete": false,
          "tags": {
            "Name": "allow_all"
          },
          "tags_all": {
            "Name": "allow_all"
          },
          "timeouts": null,
          "vpc_id": "vpc-0bc8d118b26e3aab1"
        },
        "after_unknown": {
          "arn": true,
          "egress": true,
          "id": true,
          "ingress": true,
          "name_prefix": true,
          "owner_id": true,
          "tags": {},
          "tags_all": {}
        },
        "before_sensitive": false,
        "after_sensitive": {
          "egress": [],
          "ingress": [],
          "tags": {},
          "tags_all": {}
        }
      }
    },
    {
      "address": "module.application.aws_vpc_security_group_egress_rule.allow_all_traffic_ipv4",
      "module_address": "module.application",
      "mode": "managed",
      "type": "aws_vpc_security_group_egress_rule",
      "name": "allow_all_traffic_ipv4",
      "provider_name": "registry.terraform.io/hashicorp/aws",
      "change": {
        "actions": [
          "create"
        ],
        "before": null,
        "after": {
          "cidr_ipv4": "0.0.0.0/0",
          "cidr_ipv6": null,
          "description": null,
          "from_port": null,
          "ip_protocol": "-1",
          "prefix_list_id": null,
          "referenced_security_group_id": null,
          "tags": null,
          "tags_all": {},
          "to_port": null
        },
        "after_unknown": {
          "arn": true,
          "id": true,
          "security_group_id": true,
          "security_group_rule_id": true,
          "tags_all": {}
        },
        "before_sensitive": false,
        "after_sensitive": {
          "tags_all": {}
        }
      }
    },
    {
      "address": "module.application.aws_vpc_security_group_egress_rule.allow_all_traffic_ipv6",
      "module_address": "module.application",
      "mode": "managed",
      "type": "aws_vpc_security_group_egress_rule",
      "name": "allow_all_traffic_ipv6",
      "provider_name": "registry.terraform.io/hashicorp/aws",
      "change": {
        "actions": [
          "create"
        ],
        "before": null,
        "after": {
          "cidr_ipv4": null,
          "cidr_ipv6": "::/0",
          "description": null,
          "from_port": null,
          "ip_protocol": "-1",
          "prefix_list_id": null,
          "referenced_security_group_id": null,
          "tags": null,
          "tags_all": {},
          "to_port": null
        },
        "after_unknown": {
          "arn": true,
          "id": true,
          "security_group_id": true,
          "security_group_rule_id": true,
          "tags_all": {}
        },
        "before_sensitive": false,
        "after_sensitive": {
          "tags_all": {}
        }
      }
    },
    {
      "address": "module.application.aws_vpc_security_group_ingress_rule.allow_all_traffic_ipv4",
      "module_address": "module.application",
      "mode": "managed",
      "type": "aws_vpc_security_group_ingress_rule",
      "name": "allow_all_traffic_ipv4",
      "provider_name": "registry.terraform.io/hashicorp/aws",
      "change": {
        "actions": [
          "create"
        ],
        "before": null,
        "after": {
          "cidr_ipv4": "0.0.0.0/0",
          "cidr_ipv6": null,
          "description": null,
          "from_port": null,
          "ip_protocol": "-1",
          "prefix_list_id": null,
          "referenced_security_group_id": null,
          "tags": null,
          "tags_all": {},
          "to_port": null
        },
        "after_unknown": {
          "arn": true,
          "id": true,
          "security_group_id": true,
          "security_group_rule_id": true,
          "tags_all": {}
        },
        "before_sensitive": false,
        "after_sensitive": {
          "tags_all": {}
        }
      }
    },
    {
      "address": "module.application.aws_vpc_security_group_ingress_rule.allow_all_traffic_ipv6",
      "module_address": "module.application",
      "mode": "managed",
      "type": "aws_vpc_security_group_ingress_rule",
      "name": "allow_all_traffic_ipv6",
      "provider_name": "registry.terraform.io/hashicorp/aws",
      "change": {
        "actions": [
          "create"
        ],
        "before": null,
        "after": {
          "cidr_ipv4": null,
          "cidr_ipv6": "::/0",
          "description": null,
          "from_port": null,
          "ip_protocol": "-1",
          "prefix_list_id": null,
          "referenced_security_group_id": null,
          "tags": null,
          "tags_all": {},
          "to_port": null
        },
        "after_unknown": {
          "arn": true,
          "id": true,
          "security_group_id": true,
          "security_group_rule_id": true,
          "tags_all": {}
        },
        "before_sensitive": false,
        "after_sensitive": {
          "tags_all": {}
        }
      }
    },
    {
      "address": "module.environment.data.aws_iam_policy_document.sns_iam_pd_cloudnativeapp-tf",
      "module_address": "module.environment",
      "mode": "data",
      "type": "aws_iam_policy_document",
      "name": "sns_iam_pd_cloudnativeapp-tf",
      "provider_name": "registry.terraform.io/hashicorp/aws",
      "change": {
        "actions": [
          "read"
        ],
        "before": null,
        "after": {
          "override_json": null,
          "override_policy_documents": null,
          "policy_id": null,
          "source_json": null,
          "source_policy_documents": null,
          "statement": [
            {
              "actions": [
                "sns:Publish"
              ],
              "condition": [
                {
                  "test": "ArnLike",
                  "values": [
                    null
                  ],
                  "variable": "aws:SourceArn"
                }
              ],
              "effect": "Allow",
              "not_actions": null,
              "not_principals": [],
              "not_resources": null,
              "principals": [
                {
                  "identifiers": [
                    "s3.amazonaws.com"
                  ],
                  "type": "Service"
                }
              ],
              "resources": [
                "arn:aws:sns:*:*:qa-image-notification-cloudnativeapp1glom-tf"
              ],
              "sid": "AllowPublishNewMessages"
            }
          ],
          "version": null
        },
        "after_unknown": {
          "id": true,
          "json": true,
          "statement": [
            {
              "actions": [
                false
              ],
              "condition": [
                {
                  "values": [
                    true
                  ]
                }
              ],
              "not_principals": [],
              "principals": [
                {
                  "identifiers": [
                    false
                  ]
                }
              ],
              "resources": [
                false
              ]
            }
          ]
        },
        "before_sensitive": false,
        "after_sensitive": {
          "statement": [
            {
              "actions": [
                false
              ],
              "condition": [
                {
                  "values": [
                    false
                  ]
                }
              ],
              "not_principals": [],
              "principals": [
                {
                  "identifiers": [
                    false
                  ]
                }
              ],
              "resources": [
                false
              ]
            }
          ]
        }
      },
      "action_reason": "read_because_config_unknown"
    },
    {
      "address": "module.environment.data.aws_iam_policy_document.sqs_iam_pd_cloudnativeapp-tf",
      "module_address": "module.environment",
      "mode": "data",
      "type": "aws_iam_policy_document",
      "name": "sqs_iam_pd_cloudnativeapp-tf",
      "provider_name": "registry.terraform.io/hashicorp/aws",
      "change": {
        "actions": [
          "read"
        ],
        "before": null,
        "after": {
          "override_json": null,
          "override_policy_documents": null,
          "policy_id": null,
          "source_json": null,
          "source_policy_documents": null,
          "statement": [
            {
              "actions": [
                "sqs:SendMessage"
              ],
              "condition": [
                {
                  "test": "ArnEquals",
                  "values": [
                    null
                  ],
                  "variable": "aws:SourceArn"
                }
              ],
              "effect": "Allow",
              "not_actions": null,
              "not_principals": [],
              "not_resources": null,
              "principals": [
                {
                  "identifiers": [
                    "sns.amazonaws.com"
                  ],
                  "type": "Service"
                }
              ],
              "resources": [
                "arn:aws:sqs:*:*:qa-queue-cloudnativeapp1glom-tf"
              ],
              "sid": "AllowSendMessages"
            }
          ],
          "version": null
        },
        "after_unknown": {
          "id": true,
          "json": true,
          "statement": [
            {
              "actions": [
                false
              ],
              "condition": [
                {
                  "values": [
                    true
                  ]
                }
              ],
              "not_principals": [],
              "principals": [
                {
                  "identifiers": [
                    false
                  ]
                }
              ],
              "resources": [
                false
              ]
            }
          ]
        },
        "before_sensitive": false,
        "after_sensitive": {
          "statement": [
            {
              "actions": [
                false
              ],
              "condition": [
                {
                  "values": [
                    false
                  ]
                }
              ],
              "not_principals": [],
              "principals": [
                {
                  "identifiers": [
                    false
                  ]
                }
              ],
              "resources": [
                false
              ]
            }
          ]
        }
      },
      "action_reason": "read_because_config_unknown"
    },
    {
      "address": "module.environment.data.aws_subnet.default_subnets_cidr_blocks[\"172.31.0.0/20\"]",
      "module_address": "module.environment",
      "mode": "data",
      "type": "aws_subnet",
      "name": "default_subnets_cidr_blocks",
      "index": "172.31.0.0/20",
      "provider_name": "registry.terraform.io/hashicorp/aws",
      "change": {
        "actions": [
          "read"
        ],
        "before": null,
        "after": {
          "cidr_block": "172.31.0.0/20",
          "filter": [],
          "timeouts": null
        },
        "after_unknown": {
          "arn": true,
          "assign_ipv6_address_on_creation": true,
          "availability_zone": true,
          "availability_zone_id": true,
          "available_ip_address_count": true,
          "customer_owned_ipv4_pool": true,
          "default_for_az": true,
          "enable_dns64": true,
          "enable_lni_at_device_index": true,
          "enable_resource_name_dns_a_record_on_launch": true,
          "enable_resource_name_dns_aaaa_record_on_launch": true,
          "filter": [],
          "id": true,
          "ipv6_cidr_block": true,
          "ipv6_cidr_block_association_id": true,
          "ipv6_native": true,
          "map_customer_owned_ip_on_launch": true,
          "map_public_ip_on_launch": true,
          "outpost_arn": true,
          "owner_id": true,
          "private_dns_hostname_type_on_launch": true,
          "state": true,
          "tags": true,
          "vpc_id": true
        },
        "before_sensitive": false,
        "after_sensitive": {
          "filter": [],
          "tags": {}
        }
      },
      "action_reason": "read_because_dependency_pending"
    },
    {
      "address": "module.environment.data.aws_subnet.default_subnets_cidr_blocks[\"172.31.16.0/20\"]",
      "module_address": "module.environment",
      "mode": "data",
      "type": "aws_subnet",
      "name": "default_subnets_cidr_blocks",
      "index": "172.31.16.0/20",
      "provider_name": "registry.terraform.io/hashicorp/aws",
      "change": {
        "actions": [
          "read"
        ],
        "before": null,
        "after": {
          "cidr_block": "172.31.16.0/20",
          "filter": [],
          "timeouts": null
        },
        "after_unknown": {
          "arn": true,
          "assign_ipv6_address_on_creation": true,
          "availability_zone": true,
          "availability_zone_id": true,
          "available_ip_address_count": true,
          "customer_owned_ipv4_pool": true,
          "default_for_az": true,
          "enable_dns64": true,
          "enable_lni_at_device_index": true,
          "enable_resource_name_dns_a_record_on_launch": true,
          "enable_resource_name_dns_aaaa_record_on_launch": true,
          "filter": [],
          "id": true,
          "ipv6_cidr_block": true,
          "ipv6_cidr_block_association_id": true,
          "ipv6_native": true,
          "map_customer_owned_ip_on_launch": true,
          "map_public_ip_on_launch": true,
          "outpost_arn": true,
          "owner_id": true,
          "private_dns_hostname_type_on_launch": true,
          "state": true,
          "tags": true,
          "vpc_id": true
        },
        "before_sensitive": false,
        "after_sensitive": {
          "filter": [],
          "tags": {}
        }
      },
      "action_reason": "read_because_dependency_pending"
    },
    {
      "address": "module.environment.aws_default_subnet.default_subnet_a",
      "module_address": "module.environment",
      "mode": "managed",
      "type": "aws_default_subnet",
      "name": "default_subnet_a",
      "provider_name": "registry.terraform.io/hashicorp/aws",
      "change": {
        "actions": [
          "create"
        ],
        "before": null,
        "after": {
          "assign_ipv6_address_on_creation": false,
          "availability_zone": "eu-west-1a",
          "customer_owned_ipv4_pool": null,
          "enable_dns64": false,
          "enable_resource_name_dns_a_record_on_launch": false,
          "enable_resource_name_dns_aaaa_record_on_launch": false,
          "force_destroy": false,
          "ipv6_native": false,
          "map_customer_owned_ip_on_launch": null,
          "map_public_ip_on_launch": true,
          "tags": null,
          "timeouts": null
        },
        "after_unknown": {
          "arn": true,
          "availability_zone_id": true,
          "cidr_block": true,
          "enable_lni_at_device_index": true,
          "existing_default_subnet": true,
          "id": true,
          "ipv6_cidr_block": true,
          "ipv6_cidr_block_association_id": true,
          "outpost_arn": true,
          "owner_id": true,
          "private_dns_hostname_type_on_launch": true,
          "tags_all": true,
          "vpc_id": true
        },
        "before_sensitive": false,
        "after_sensitive": {
          "tags_all": {}
        }
      }
    },
    {
      "address": "module.environment.aws_default_subnet.default_subnet_b",
      "module_address": "module.environment",
      "mode": "managed",
      "type": "aws_default_subnet",
      "name": "default_subnet_b",
      "provider_name": "registry.terraform.io/hashicorp/aws",
      "change": {
        "actions": [
          "create"
        ],
        "before": null,
        "after": {
          "assign_ipv6_address_on_creation": false,
          "availability_zone": "eu-west-1b",
          "customer_owned_ipv4_pool": null,
          "enable_dns64": false,
          "enable_resource_name_dns_a_record_on_launch": false,
          "enable_resource_name_dns_aaaa_record_on_launch": false,
          "force_destroy": false,
          "ipv6_native": false,
          "map_customer_owned_ip_on_launch": null,
          "map_public_ip_on_launch": true,
          "tags": null,
          "timeouts": null
        },
        "after_unknown": {
          "arn": true,
          "availability_zone_id": true,
          "cidr_block": true,
          "enable_lni_at_device_index": true,
          "existing_default_subnet": true,
          "id": true,
          "ipv6_cidr_block": true,
          "ipv6_cidr_block_association_id": true,
          "outpost_arn": true,
          "owner_id": true,
          "private_dns_hostname_type_on_launch": true,
          "tags_all": true,
          "vpc_id": true
        },
        "before_sensitive": false,
        "after_sensitive": {
          "tags_all": {}
        }
      }
    },
    {
      "address": "module.environment.aws_dynamodb_table.dynamodb_table_cloudnativeapp-tf",
      "module_address": "module.environment",
      "mode": "managed",
      "type": "aws_dynamodb_table",
      "name": "dynamodb_table_cloudnativeapp-tf",
      "provider_name": "registry.terraform.io/hashicorp/aws",
      "change": {
        "actions": [
          "create"
        ],
        "before": null,
        "after": {
          "attribute": [
            {
              "name": "ImageName",
              "type": "S"
            },
            {
              "name": "LabelValue",
              "type": "S"
            }
          ],
          "billing_mode": "PROVISIONED",
          "deletion_protection_enabled": null,
          "global_secondary_index": [],
          "hash_key": "LabelValue",
          "import_table": [],
          "local_secondary_index": [],
          "name": "QaCloudNativeApp1Table-tf",
          "range_key": "ImageName",
          "read_capacity": 10,
          "replica": [],
          "restore_date_time": null,
          "restore_source_name": null,
          "restore_to_latest_time": null,
          "stream_enabled": null,
          "table_class": null,
          "tags": null,
          "timeouts": null,
          "write_capacity": 10
        },
        "after_unknown": {
          "arn": true,
          "attribute": [
            {},
            {}
          ],
          "global_secondary_index": [],
          "id": true,
          "import_table": [],
          "local_secondary_index": [],
          "point_in_time_recovery": true,
          "replica": [],
          "server_side_encryption": true,
          "stream_arn": true,
          "stream_label": true,
          "stream_view_type": true,
          "tags_all": true,
          "ttl": true
        },
        "before_sensitive": false,
        "after_sensitive": {
          "attribute": [
            {},
            {}
          ],
          "global_secondary_index": [],
          "import_table": [],
          "local_secondary_index": [],
          "point_in_time_recovery": [],
          "replica": [],
          "server_side_encryption": [],
          "tags_all": {},
          "ttl": []
        }
      }
    },
    {
      "address": "module.environment.aws_s3_bucket.s3_bucket_cloudnativeapp-tf",
      "module_address": "module.environment",
      "mode": "managed",
      "type": "aws_s3_bucket",
      "name": "s3_bucket_cloudnativeapp-tf",
      "provider_name": "registry.terraform.io/hashicorp/aws",
      "change": {
        "actions": [
          "create"
        ],
        "before": null,
        "after": {
          "bucket": "qa-bucket-cloudnativeapp1glom-tf",
          "force_destroy": true,
          "tags": null,
          "timeouts": null
        },
        "after_unknown": {
          "acceleration_status": true,
          "acl": true,
          "arn": true,
          "bucket_domain_name": true,
          "bucket_prefix": true,
          "bucket_regional_domain_name": true,
          "cors_rule": true,
          "grant": true,
          "hosted_zone_id": true,
          "id": true,
          "lifecycle_rule": true,
          "logging": true,
          "object_lock_configuration": true,
          "object_lock_enabled": true,
          "policy": true,
          "region": true,
          "replication_configuration": true,
          "request_payer": true,
          "server_side_encryption_configuration": true,
          "tags_all": true,
          "versioning": true,
          "website": true,
          "website_domain": true,
          "website_endpoint": true
        },
        "before_sensitive": false,
        "after_sensitive": {
          "cors_rule": [],
          "grant": [],
          "lifecycle_rule": [],
          "logging": [],
          "object_lock_configuration": [],
          "replication_configuration": [],
          "server_side_encryption_configuration": [],
          "tags_all": {},
          "versioning": [],
          "website": []
        }
      }
    },
    {
      "address": "module.environment.aws_s3_bucket_acl.s3_bucket_acl_cloudnativeapp-tf",
      "module_address": "module.environment",
      "mode": "managed",
      "type": "aws_s3_bucket_acl",
      "name": "s3_bucket_acl_cloudnativeapp-tf",
      "provider_name": "registry.terraform.io/hashicorp/aws",
      "change": {
        "actions": [
          "create"
        ],
        "before": null,
        "after": {
          "acl": "public-read",
          "expected_bucket_owner": null
        },
        "after_unknown": {
          "access_control_policy": true,
          "bucket": true,
          "id": true
        },
        "before_sensitive": false,
        "after_sensitive": {
          "access_control_policy": []
        }
      }
    },
    {
      "address": "module.environment.aws_s3_bucket_notification.s3_bucket_notification_cloudnativeapp-tf",
      "module_address": "module.environment",
      "mode": "managed",
      "type": "aws_s3_bucket_notification",
      "name": "s3_bucket_notification_cloudnativeapp-tf",
      "provider_name": "registry.terraform.io/hashicorp/aws",
      "change": {
        "actions": [
          "create"
        ],
        "before": null,
        "after": {
          "eventbridge": false,
          "lambda_function": [],
          "queue": [],
          "topic": [
            {
              "events": [
                "s3:ObjectCreated:*"
              ],
              "filter_prefix": null,
              "filter_suffix": null
            }
          ]
        },
        "after_unknown": {
          "bucket": true,
          "id": true,
          "lambda_function": [],
          "queue": [],
          "topic": [
            {
              "events": [
                false
              ],
              "id": true,
              "topic_arn": true
            }
          ]
        },
        "before_sensitive": false,
        "after_sensitive": {
          "lambda_function": [],
          "queue": [],
          "topic": [
            {
              "events": [
                false
              ]
            }
          ]
        }
      }
    },
    {
      "address": "module.environment.aws_s3_bucket_ownership_controls.s3_bucket_oc_cloudnativeapp-tf",
      "module_address": "module.environment",
      "mode": "managed",
      "type": "aws_s3_bucket_ownership_controls",
      "name": "s3_bucket_oc_cloudnativeapp-tf",
      "provider_name": "registry.terraform.io/hashicorp/aws",
      "change": {
        "actions": [
          "create"
        ],
        "before": null,
        "after": {
          "rule": [
            {
              "object_ownership": "BucketOwnerPreferred"
            }
          ]
        },
        "after_unknown": {
          "bucket": true,
          "id": true,
          "rule": [
            {}
          ]
        },
        "before_sensitive": false,
        "after_sensitive": {
          "rule": [
            {}
          ]
        }
      }
    },
    {
      "address": "module.environment.aws_s3_bucket_policy.s3_bucket_policy_cloudnativeapp-tf",
      "module_address": "module.environment",
      "mode": "managed",
      "type": "aws_s3_bucket_policy",
      "name": "s3_bucket_policy_cloudnativeapp-tf",
      "provider_name": "registry.terraform.io/hashicorp/aws",
      "change": {
        "actions": [
          "create"
        ],
        "before": null,
        "after": {
          "policy": "{\"Statement\":[{\"Action\":[\"s3:PutObjectAcl\",\"s3:PutObject\"],\"Effect\":\"Allow\",\"Principal\":{\"Service\":\"ecs-tasks.amazonaws.com\"},\"Resource\":[\"arn:aws:s3:::qa-bucket-cloudnativeapp1glom-tf/*\",\"arn:aws:s3:::qa-bucket-cloudnativeapp1glom-tf\"],\"Sid\":\"AllowECSPermissions\"},{\"Action\":[\"s3:ListBucket\",\"s3:GetObjectAttributes\",\"s3:GetObject\"],\"Effect\":\"Allow\",\"Principal\":{\"Service\":\"lambda.amazonaws.com\"},\"Resource\":[\"arn:aws:s3:::qa-bucket-cloudnativeapp1glom-tf/*\",\"arn:aws:s3:::qa-bucket-cloudnativeapp1glom-tf\"],\"Sid\":\"AllowLambdaPermissions\"}],\"Version\":\"2012-10-17\"}"
        },
        "after_unknown": {
          "bucket": true,
          "id": true
        },
        "before_sensitive": false,
        "after_sensitive": {}
      }
    },
    {
      "address": "module.environment.aws_s3_bucket_public_access_block.s3_bucket_pab_cloudnativeapp-tf",
      "module_address": "module.environment",
      "mode": "managed",
      "type": "aws_s3_bucket_public_access_block",
      "name": "s3_bucket_pab_cloudnativeapp-tf",
      "provider_name": "registry.terraform.io/hashicorp/aws",
      "change": {
        "actions": [
          "create"
        ],
        "before": null,
        "after": {
          "block_public_acls": true,
          "block_public_policy": true,
          "ignore_public_acls": true,
          "restrict_public_buckets": true
        },
        "after_unknown": {
          "bucket": true,
          "id": true
        },
        "before_sensitive": false,
        "after_sensitive": {}
      }
    },
    {
      "address": "module.environment.aws_s3_bucket_server_side_encryption_configuration.s3_bucket_ssec_cloudnativeapp-tf",
      "module_address": "module.environment",
      "mode": "managed",
      "type": "aws_s3_bucket_server_side_encryption_configuration",
      "name": "s3_bucket_ssec_cloudnativeapp-tf",
      "provider_name": "registry.terraform.io/hashicorp/aws",
      "change": {
        "actions": [
          "create"
        ],
        "before": null,
        "after": {
          "expected_bucket_owner": null,
          "rule": [
            {
              "apply_server_side_encryption_by_default": [
                {
                  "kms_master_key_id": "",
                  "sse_algorithm": "AES256"
                }
              ],
              "bucket_key_enabled": true
            }
          ]
        },
        "after_unknown": {
          "bucket": true,
          "id": true,
          "rule": [
            {
              "apply_server_side_encryption_by_default": [
                {}
              ]
            }
          ]
        },
        "before_sensitive": false,
        "after_sensitive": {
          "rule": [
            {
              "apply_server_side_encryption_by_default": [
                {}
              ]
            }
          ]
        }
      }
    },
    {
      "address": "module.environment.aws_security_group.ecr_api_sg",
      "module_address": "module.environment",
      "mode": "managed",
      "type": "aws_security_group",
      "name": "ecr_api_sg",
      "provider_name": "registry.terraform.io/hashicorp/aws",
      "change": {
        "actions": [
          "create"
        ],
        "before": null,
        "after": {
          "description": "ECR API Security group",
          "egress": [
            {
              "cidr_blocks": [
                "0.0.0.0/0"
              ],
              "description": "allow all egress traffic",
              "from_port": 0,
              "ipv6_cidr_blocks": [],
              "prefix_list_ids": [],
              "protocol": "tcp",
              "security_groups": [],
              "self": false,
              "to_port": 65535
            }
          ],
          "ingress": [
            {
              "cidr_blocks": [
                "172.31.0.0/16"
              ],
              "description": "allow all ingress traffic from subnets",
              "from_port": 0,
              "ipv6_cidr_blocks": [],
              "prefix_list_ids": [],
              "protocol": "tcp",
              "security_groups": [],
              "self": false,
              "to_port": 65535
            }
          ],
          "revoke_rules_on_delete": false,
          "tags": null,
          "timeouts": null,
          "vpc_id": "vpc-0bc8d118b26e3aab1"
        },
        "after_unknown": {
          "arn": true,
          "egress": [
            {
              "cidr_blocks": [
                false
              ],
              "ipv6_cidr_blocks": [],
              "prefix_list_ids": [],
              "security_groups": []
            }
          ],
          "id": true,
          "ingress": [
            {
              "cidr_blocks": [
                false
              ],
              "ipv6_cidr_blocks": [],
              "prefix_list_ids": [],
              "security_groups": []
            }
          ],
          "name": true,
          "name_prefix": true,
          "owner_id": true,
          "tags_all": true
        },
        "before_sensitive": false,
        "after_sensitive": {
          "egress": [
            {
              "cidr_blocks": [
                false
              ],
              "ipv6_cidr_blocks": [],
              "prefix_list_ids": [],
              "security_groups": []
            }
          ],
          "ingress": [
            {
              "cidr_blocks": [
                false
              ],
              "ipv6_cidr_blocks": [],
              "prefix_list_ids": [],
              "security_groups": []
            }
          ],
          "tags_all": {}
        }
      }
    },
    {
      "address": "module.environment.aws_security_group.ecr_dkr_sg",
      "module_address": "module.environment",
      "mode": "managed",
      "type": "aws_security_group",
      "name": "ecr_dkr_sg",
      "provider_name": "registry.terraform.io/hashicorp/aws",
      "change": {
        "actions": [
          "create"
        ],
        "before": null,
        "after": {
          "description": "ECR DKR Security group",
          "egress": [
            {
              "cidr_blocks": [
                "0.0.0.0/0"
              ],
              "description": "allow all egress traffic",
              "from_port": 0,
              "ipv6_cidr_blocks": [],
              "prefix_list_ids": [],
              "protocol": "tcp",
              "security_groups": [],
              "self": false,
              "to_port": 65535
            }
          ],
          "ingress": [
            {
              "cidr_blocks": [
                "172.31.0.0/16"
              ],
              "description": "allow all ingress traffic from subnets",
              "from_port": 0,
              "ipv6_cidr_blocks": [],
              "prefix_list_ids": [],
              "protocol": "tcp",
              "security_groups": [],
              "self": false,
              "to_port": 65535
            }
          ],
          "revoke_rules_on_delete": false,
          "tags": null,
          "timeouts": null,
          "vpc_id": "vpc-0bc8d118b26e3aab1"
        },
        "after_unknown": {
          "arn": true,
          "egress": [
            {
              "cidr_blocks": [
                false
              ],
              "ipv6_cidr_blocks": [],
              "prefix_list_ids": [],
              "security_groups": []
            }
          ],
          "id": true,
          "ingress": [
            {
              "cidr_blocks": [
                false
              ],
              "ipv6_cidr_blocks": [],
              "prefix_list_ids": [],
              "security_groups": []
            }
          ],
          "name": true,
          "name_prefix": true,
          "owner_id": true,
          "tags_all": true
        },
        "before_sensitive": false,
        "after_sensitive": {
          "egress": [
            {
              "cidr_blocks": [
                false
              ],
              "ipv6_cidr_blocks": [],
              "prefix_list_ids": [],
              "security_groups": []
            }
          ],
          "ingress": [
            {
              "cidr_blocks": [
                false
              ],
              "ipv6_cidr_blocks": [],
              "prefix_list_ids": [],
              "security_groups": []
            }
          ],
          "tags_all": {}
        }
      }
    },
    {
      "address": "module.environment.aws_security_group.logs_sg",
      "module_address": "module.environment",
      "mode": "managed",
      "type": "aws_security_group",
      "name": "logs_sg",
      "provider_name": "registry.terraform.io/hashicorp/aws",
      "change": {
        "actions": [
          "create"
        ],
        "before": null,
        "after": {
          "description": "Logs Security group",
          "egress": [
            {
              "cidr_blocks": [
                "0.0.0.0/0"
              ],
              "description": "allow all egress traffic",
              "from_port": 0,
              "ipv6_cidr_blocks": [],
              "prefix_list_ids": [],
              "protocol": "tcp",
              "security_groups": [],
              "self": false,
              "to_port": 65535
            }
          ],
          "ingress": [
            {
              "cidr_blocks": [
                "172.31.0.0/16"
              ],
              "description": "allow all ingress traffic from subnets",
              "from_port": 0,
              "ipv6_cidr_blocks": [],
              "prefix_list_ids": [],
              "protocol": "tcp",
              "security_groups": [],
              "self": false,
              "to_port": 65535
            }
          ],
          "revoke_rules_on_delete": false,
          "tags": null,
          "timeouts": null,
          "vpc_id": "vpc-0bc8d118b26e3aab1"
        },
        "after_unknown": {
          "arn": true,
          "egress": [
            {
              "cidr_blocks": [
                false
              ],
              "ipv6_cidr_blocks": [],
              "prefix_list_ids": [],
              "security_groups": []
            }
          ],
          "id": true,
          "ingress": [
            {
              "cidr_blocks": [
                false
              ],
              "ipv6_cidr_blocks": [],
              "prefix_list_ids": [],
              "security_groups": []
            }
          ],
          "name": true,
          "name_prefix": true,
          "owner_id": true,
          "tags_all": true
        },
        "before_sensitive": false,
        "after_sensitive": {
          "egress": [
            {
              "cidr_blocks": [
                false
              ],
              "ipv6_cidr_blocks": [],
              "prefix_list_ids": [],
              "security_groups": []
            }
          ],
          "ingress": [
            {
              "cidr_blocks": [
                false
              ],
              "ipv6_cidr_blocks": [],
              "prefix_list_ids": [],
              "security_groups": []
            }
          ],
          "tags_all": {}
        }
      }
    },
    {
      "address": "module.environment.aws_sns_topic.sns_image_notification-tf",
      "module_address": "module.environment",
      "mode": "managed",
      "type": "aws_sns_topic",
      "name": "sns_image_notification-tf",
      "provider_name": "registry.terraform.io/hashicorp/aws",
      "change": {
        "actions": [
          "create"
        ],
        "before": null,
        "after": {
          "application_failure_feedback_role_arn": null,
          "application_success_feedback_role_arn": null,
          "application_success_feedback_sample_rate": null,
          "archive_policy": null,
          "content_based_deduplication": false,
          "delivery_policy": null,
          "display_name": null,
          "fifo_topic": false,
          "firehose_failure_feedback_role_arn": null,
          "firehose_success_feedback_role_arn": null,
          "firehose_success_feedback_sample_rate": null,
          "http_failure_feedback_role_arn": null,
          "http_success_feedback_role_arn": null,
          "http_success_feedback_sample_rate": null,
          "kms_master_key_id": null,
          "lambda_failure_feedback_role_arn": null,
          "lambda_success_feedback_role_arn": null,
          "lambda_success_feedback_sample_rate": null,
          "name": "qa-image-notification-cloudnativeapp1glom-tf",
          "sqs_failure_feedback_role_arn": null,
          "sqs_success_feedback_role_arn": null,
          "sqs_success_feedback_sample_rate": null,
          "tags": null
        },
        "after_unknown": {
          "arn": true,
          "beginning_archive_time": true,
          "id": true,
          "name_prefix": true,
          "owner": true,
          "policy": true,
          "signature_version": true,
          "tags_all": true,
          "tracing_config": true
        },
        "before_sensitive": false,
        "after_sensitive": {
          "tags_all": {}
        }
      }
    },
    {
      "address": "module.environment.aws_sns_topic_subscription.sns_image_notification_topic_subscription-tf",
      "module_address": "module.environment",
      "mode": "managed",
      "type": "aws_sns_topic_subscription",
      "name": "sns_image_notification_topic_subscription-tf",
      "provider_name": "registry.terraform.io/hashicorp/aws",
      "change": {
        "actions": [
          "create"
        ],
        "before": null,
        "after": {
          "confirmation_timeout_in_minutes": 1,
          "delivery_policy": null,
          "endpoint_auto_confirms": false,
          "filter_policy": null,
          "protocol": "sqs",
          "raw_message_delivery": false,
          "redrive_policy": null,
          "replay_policy": null,
          "subscription_role_arn": null
        },
        "after_unknown": {
          "arn": true,
          "confirmation_was_authenticated": true,
          "endpoint": true,
          "filter_policy_scope": true,
          "id": true,
          "owner_id": true,
          "pending_confirmation": true,
          "topic_arn": true
        },
        "before_sensitive": false,
        "after_sensitive": {}
      }
    },
    {
      "address": "module.environment.aws_sqs_queue.sqs_queue_cloudnativeapp-tf",
      "module_address": "module.environment",
      "mode": "managed",
      "type": "aws_sqs_queue",
      "name": "sqs_queue_cloudnativeapp-tf",
      "provider_name": "registry.terraform.io/hashicorp/aws",
      "change": {
        "actions": [
          "create"
        ],
        "before": null,
        "after": {
          "content_based_deduplication": false,
          "delay_seconds": 0,
          "fifo_queue": false,
          "kms_master_key_id": null,
          "max_message_size": 262144,
          "message_retention_seconds": 345600,
          "name": "qa-queue-cloudnativeapp1glom-tf",
          "receive_wait_time_seconds": 0,
          "tags": null,
          "visibility_timeout_seconds": 30
        },
        "after_unknown": {
          "arn": true,
          "deduplication_scope": true,
          "fifo_throughput_limit": true,
          "id": true,
          "kms_data_key_reuse_period_seconds": true,
          "name_prefix": true,
          "policy": true,
          "redrive_allow_policy": true,
          "redrive_policy": true,
          "sqs_managed_sse_enabled": true,
          "tags_all": true,
          "url": true
        },
        "before_sensitive": false,
        "after_sensitive": {
          "tags_all": {}
        }
      }
    },
    {
      "address": "module.environment.aws_sqs_queue_policy.sqs_queue_cloudnativeapp_policy",
      "module_address": "module.environment",
      "mode": "managed",
      "type": "aws_sqs_queue_policy",
      "name": "sqs_queue_cloudnativeapp_policy",
      "provider_name": "registry.terraform.io/hashicorp/aws",
      "change": {
        "actions": [
          "create"
        ],
        "before": null,
        "after": {},
        "after_unknown": {
          "id": true,
          "policy": true,
          "queue_url": true
        },
        "before_sensitive": false,
        "after_sensitive": {}
      }
    },
    {
      "address": "module.environment.aws_vpc_endpoint.dynamodb_endpoint",
      "module_address": "module.environment",
      "mode": "managed",
      "type": "aws_vpc_endpoint",
      "name": "dynamodb_endpoint",
      "provider_name": "registry.terraform.io/hashicorp/aws",
      "change": {
        "actions": [
          "create"
        ],
        "before": null,
        "after": {
          "auto_accept": null,
          "private_dns_enabled": false,
          "service_name": "com.amazonaws.eu-west-1.dynamodb",
          "tags": null,
          "timeouts": null,
          "vpc_endpoint_type": "Gateway",
          "vpc_id": "vpc-0bc8d118b26e3aab1"
        },
        "after_unknown": {
          "arn": true,
          "cidr_blocks": true,
          "dns_entry": true,
          "dns_options": true,
          "id": true,
          "ip_address_type": true,
          "network_interface_ids": true,
          "owner_id": true,
          "policy": true,
          "prefix_list_id": true,
          "requester_managed": true,
          "route_table_ids": true,
          "security_group_ids": true,
          "state": true,
          "subnet_ids": true,
          "tags_all": true
        },
        "before_sensitive": false,
        "after_sensitive": {
          "cidr_blocks": [],
          "dns_entry": [],
          "dns_options": [],
          "network_interface_ids": [],
          "route_table_ids": [],
          "security_group_ids": [],
          "subnet_ids": [],
          "tags_all": {}
        }
      }
    },
    {
      "address": "module.environment.aws_vpc_endpoint.ecr_api_endpoint",
      "module_address": "module.environment",
      "mode": "managed",
      "type": "aws_vpc_endpoint",
      "name": "ecr_api_endpoint",
      "provider_name": "registry.terraform.io/hashicorp/aws",
      "change": {
        "actions": [
          "create"
        ],
        "before": null,
        "after": {
          "auto_accept": null,
          "private_dns_enabled": true,
          "service_name": "com.amazonaws.eu-west-1.ecr.api",
          "subnet_ids": [
            "subnet-01da444623a60d536",
            "subnet-0e2759092403c537c"
          ],
          "tags": null,
          "timeouts": null,
          "vpc_endpoint_type": "Interface",
          "vpc_id": "vpc-0bc8d118b26e3aab1"
        },
        "after_unknown": {
          "arn": true,
          "cidr_blocks": true,
          "dns_entry": true,
          "dns_options": true,
          "id": true,
          "ip_address_type": true,
          "network_interface_ids": true,
          "owner_id": true,
          "policy": true,
          "prefix_list_id": true,
          "requester_managed": true,
          "route_table_ids": true,
          "security_group_ids": true,
          "state": true,
          "subnet_ids": [
            false,
            false
          ],
          "tags_all": true
        },
        "before_sensitive": false,
        "after_sensitive": {
          "cidr_blocks": [],
          "dns_entry": [],
          "dns_options": [],
          "network_interface_ids": [],
          "route_table_ids": [],
          "security_group_ids": [],
          "subnet_ids": [
            false,
            false
          ],
          "tags_all": {}
        }
      }
    },
    {
      "address": "module.environment.aws_vpc_endpoint.ecr_dkr_endpoint",
      "module_address": "module.environment",
      "mode": "managed",
      "type": "aws_vpc_endpoint",
      "name": "ecr_dkr_endpoint",
      "provider_name": "registry.terraform.io/hashicorp/aws",
      "change": {
        "actions": [
          "create"
        ],
        "before": null,
        "after": {
          "auto_accept": null,
          "private_dns_enabled": true,
          "service_name": "com.amazonaws.eu-west-1.ecr.dkr",
          "subnet_ids": [
            "subnet-01da444623a60d536",
            "subnet-0e2759092403c537c"
          ],
          "tags": null,
          "timeouts": null,
          "vpc_endpoint_type": "Interface",
          "vpc_id": "vpc-0bc8d118b26e3aab1"
        },
        "after_unknown": {
          "arn": true,
          "cidr_blocks": true,
          "dns_entry": true,
          "dns_options": true,
          "id": true,
          "ip_address_type": true,
          "network_interface_ids": true,
          "owner_id": true,
          "policy": true,
          "prefix_list_id": true,
          "requester_managed": true,
          "route_table_ids": true,
          "security_group_ids": true,
          "state": true,
          "subnet_ids": [
            false,
            false
          ],
          "tags_all": true
        },
        "before_sensitive": false,
        "after_sensitive": {
          "cidr_blocks": [],
          "dns_entry": [],
          "dns_options": [],
          "network_interface_ids": [],
          "route_table_ids": [],
          "security_group_ids": [],
          "subnet_ids": [
            false,
            false
          ],
          "tags_all": {}
        }
      }
    },
    {
      "address": "module.environment.aws_vpc_endpoint.logs_endpoint",
      "module_address": "module.environment",
      "mode": "managed",
      "type": "aws_vpc_endpoint",
      "name": "logs_endpoint",
      "provider_name": "registry.terraform.io/hashicorp/aws",
      "change": {
        "actions": [
          "create"
        ],
        "before": null,
        "after": {
          "auto_accept": null,
          "private_dns_enabled": true,
          "service_name": "com.amazonaws.eu-west-1.logs",
          "subnet_ids": [
            "subnet-01da444623a60d536",
            "subnet-0e2759092403c537c"
          ],
          "tags": null,
          "timeouts": null,
          "vpc_endpoint_type": "Interface",
          "vpc_id": "vpc-0bc8d118b26e3aab1"
        },
        "after_unknown": {
          "arn": true,
          "cidr_blocks": true,
          "dns_entry": true,
          "dns_options": true,
          "id": true,
          "ip_address_type": true,
          "network_interface_ids": true,
          "owner_id": true,
          "policy": true,
          "prefix_list_id": true,
          "requester_managed": true,
          "route_table_ids": true,
          "security_group_ids": true,
          "state": true,
          "subnet_ids": [
            false,
            false
          ],
          "tags_all": true
        },
        "before_sensitive": false,
        "after_sensitive": {
          "cidr_blocks": [],
          "dns_entry": [],
          "dns_options": [],
          "network_interface_ids": [],
          "route_table_ids": [],
          "security_group_ids": [],
          "subnet_ids": [
            false,
            false
          ],
          "tags_all": {}
        }
      }
    },
    {
      "address": "module.environment.aws_vpc_endpoint.s3_endpoint",
      "module_address": "module.environment",
      "mode": "managed",
      "type": "aws_vpc_endpoint",
      "name": "s3_endpoint",
      "provider_name": "registry.terraform.io/hashicorp/aws",
      "change": {
        "actions": [
          "create"
        ],
        "before": null,
        "after": {
          "auto_accept": null,
          "private_dns_enabled": false,
          "service_name": "com.amazonaws.eu-west-1.s3",
          "tags": null,
          "timeouts": null,
          "vpc_endpoint_type": "Gateway",
          "vpc_id": "vpc-0bc8d118b26e3aab1"
        },
        "after_unknown": {
          "arn": true,
          "cidr_blocks": true,
          "dns_entry": true,
          "dns_options": true,
          "id": true,
          "ip_address_type": true,
          "network_interface_ids": true,
          "owner_id": true,
          "policy": true,
          "prefix_list_id": true,
          "requester_managed": true,
          "route_table_ids": true,
          "security_group_ids": true,
          "state": true,
          "subnet_ids": true,
          "tags_all": true
        },
        "before_sensitive": false,
        "after_sensitive": {
          "cidr_blocks": [],
          "dns_entry": [],
          "dns_options": [],
          "network_interface_ids": [],
          "route_table_ids": [],
          "security_group_ids": [],
          "subnet_ids": [],
          "tags_all": {}
        }
      }
    }
  ],
  "prior_state": {
    "format_version": "1.0",
    "terraform_version": "1.8.2",
    "values": {
      "root_module": {
        "child_modules": [
          {
            "resources": [
              {
                "address": "module.application.data.archive_file.lambda_archive_file_cloudnativeapp-tf",
                "mode": "data",
                "type": "archive_file",
                "name": "lambda_archive_file_cloudnativeapp-tf",
                "provider_name": "registry.terraform.io/hashicorp/archive",
                "schema_version": 0,
                "values": {
                  "exclude_symlink_directories": null,
                  "excludes": null,
                  "id": "ba33f91a4d78027f0cb025dc8a4c9c5c2c54a401",
                  "output_base64sha256": "U5G1VRDH4ze1gtOD8ZL+qHzJTfrnImO0SqZ/mqpHSZk=",
                  "output_base64sha512": "AfA7UMaggqSlL2wto0z3vuyxJrHgfBY7W59pAWUUWyFS4pz9913ljWeweq91isKj8JidVvhZzrOUuWWLikNw2g==",
                  "output_file_mode": null,
                  "output_md5": "6c26ead97d1271a6fa60d57b058a832a",
                  "output_path": "../modules/tf-application/lambda_function_payload.zip",
                  "output_sha": "ba33f91a4d78027f0cb025dc8a4c9c5c2c54a401",
                  "output_sha256": "5391b55510c7e337b582d383f192fea87cc94dfae72263b44aa67f9aaa474999",
                  "output_sha512": "01f03b50c6a082a4a52f6c2da34cf7beecb126b1e07c163b5b9f690165145b2152e29cfdf75de58d67b07aaf758ac2a3f0989d56f859ceb394b9658b8a4370da",
                  "output_size": 591,
                  "source": [],
                  "source_content": null,
                  "source_content_filename": null,
                  "source_dir": null,
                  "source_file": "../modules/tf-application/lambda/index.py",
                  "type": "zip"
                },
                "sensitive_values": {
                  "source": []
                }
              },
              {
                "address": "module.application.data.aws_iam_policy.ecs_app_runner_service",
                "mode": "data",
                "type": "aws_iam_policy",
                "name": "ecs_app_runner_service",
                "provider_name": "registry.terraform.io/hashicorp/aws",
                "schema_version": 0,
                "values": {
                  "arn": "arn:aws:iam::aws:policy/service-role/AWSAppRunnerServicePolicyForECRAccess",
                  "attachment_count": 0,
                  "description": "AWS App Runner service policy that grants read permissions to Amazon ECR resources in the customer's account. Use it in a role that is passed to App Runner when creating or updating an App Runner service.",
                  "id": "arn:aws:iam::aws:policy/service-role/AWSAppRunnerServicePolicyForECRAccess",
                  "name": "AWSAppRunnerServicePolicyForECRAccess",
                  "path": "/service-role/",
                  "path_prefix": null,
                  "policy": "{\n\t\"Version\": \"2012-10-17\",\n\t\"Statement\": [\n\t\t{\n\t\t\t\"Effect\": \"Allow\",\n\t\t\t\"Action\": [\n\t\t\t\t\"ecr:GetDownloadUrlForLayer\",\n\t\t\t\t\"ecr:BatchGetImage\",\n\t\t\t\t\"ecr:DescribeImages\",\n\t\t\t\t\"ecr:GetAuthorizationToken\",\n\t\t\t\t\"ecr:BatchCheckLayerAvailability\"\n\t\t\t],\n\t\t\t\"Resource\": \"*\"\n\t\t}\n\t]\n}",
                  "policy_id": "ANPAZKAPJZG4LYM3IT6IY",
                  "tags": {}
                },
                "sensitive_values": {
                  "tags": {}
                }
              },
              {
                "address": "module.application.data.aws_iam_policy.ecs_cloud_watch",
                "mode": "data",
                "type": "aws_iam_policy",
                "name": "ecs_cloud_watch",
                "provider_name": "registry.terraform.io/hashicorp/aws",
                "schema_version": 0,
                "values": {
                  "arn": "arn:aws:iam::aws:policy/CloudWatchLogsFullAccess",
                  "attachment_count": 0,
                  "description": "Provides full access to CloudWatch Logs",
                  "id": "arn:aws:iam::aws:policy/CloudWatchLogsFullAccess",
                  "name": "CloudWatchLogsFullAccess",
                  "path": "/",
                  "path_prefix": null,
                  "policy": "{\n\t\"Version\": \"2012-10-17\",\n\t\"Statement\": [\n\t\t{\n\t\t\t\"Sid\": \"CloudWatchLogsFullAccess\",\n\t\t\t\"Effect\": \"Allow\",\n\t\t\t\"Action\": [\n\t\t\t\t\"logs:*\",\n\t\t\t\t\"cloudwatch:GenerateQuery\"\n\t\t\t],\n\t\t\t\"Resource\": \"*\"\n\t\t}\n\t]\n}",
                  "policy_id": "ANPAJ3ZGNWK2R5HW5BQFO",
                  "tags": {}
                },
                "sensitive_values": {
                  "tags": {}
                }
              },
              {
                "address": "module.application.data.aws_iam_policy.ecs_dynamodb",
                "mode": "data",
                "type": "aws_iam_policy",
                "name": "ecs_dynamodb",
                "provider_name": "registry.terraform.io/hashicorp/aws",
                "schema_version": 0,
                "values": {
                  "arn": "arn:aws:iam::aws:policy/AmazonDynamoDBFullAccess",
                  "attachment_count": 0,
                  "description": "Provides full access to Amazon DynamoDB via the AWS Management Console.",
                  "id": "arn:aws:iam::aws:policy/AmazonDynamoDBFullAccess",
                  "name": "AmazonDynamoDBFullAccess",
                  "path": "/",
                  "path_prefix": null,
                  "policy": "{\n  \"Version\": \"2012-10-17\",\n  \"Statement\": [\n    {\n      \"Action\": [\n        \"dynamodb:*\",\n        \"dax:*\",\n        \"application-autoscaling:DeleteScalingPolicy\",\n        \"application-autoscaling:DeregisterScalableTarget\",\n        \"application-autoscaling:DescribeScalableTargets\",\n        \"application-autoscaling:DescribeScalingActivities\",\n        \"application-autoscaling:DescribeScalingPolicies\",\n        \"application-autoscaling:PutScalingPolicy\",\n        \"application-autoscaling:RegisterScalableTarget\",\n        \"cloudwatch:DeleteAlarms\",\n        \"cloudwatch:DescribeAlarmHistory\",\n        \"cloudwatch:DescribeAlarms\",\n        \"cloudwatch:DescribeAlarmsForMetric\",\n        \"cloudwatch:GetMetricStatistics\",\n        \"cloudwatch:ListMetrics\",\n        \"cloudwatch:PutMetricAlarm\",\n        \"cloudwatch:GetMetricData\",\n        \"datapipeline:ActivatePipeline\",\n        \"datapipeline:CreatePipeline\",\n        \"datapipeline:DeletePipeline\",\n        \"datapipeline:DescribeObjects\",\n        \"datapipeline:DescribePipelines\",\n        \"datapipeline:GetPipelineDefinition\",\n        \"datapipeline:ListPipelines\",\n        \"datapipeline:PutPipelineDefinition\",\n        \"datapipeline:QueryObjects\",\n        \"ec2:DescribeVpcs\",\n        \"ec2:DescribeSubnets\",\n        \"ec2:DescribeSecurityGroups\",\n        \"iam:GetRole\",\n        \"iam:ListRoles\",\n        \"kms:DescribeKey\",\n        \"kms:ListAliases\",\n        \"sns:CreateTopic\",\n        \"sns:DeleteTopic\",\n        \"sns:ListSubscriptions\",\n        \"sns:ListSubscriptionsByTopic\",\n        \"sns:ListTopics\",\n        \"sns:Subscribe\",\n        \"sns:Unsubscribe\",\n        \"sns:SetTopicAttributes\",\n        \"lambda:CreateFunction\",\n        \"lambda:ListFunctions\",\n        \"lambda:ListEventSourceMappings\",\n        \"lambda:CreateEventSourceMapping\",\n        \"lambda:DeleteEventSourceMapping\",\n        \"lambda:GetFunctionConfiguration\",\n        \"lambda:DeleteFunction\",\n        \"resource-groups:ListGroups\",\n        \"resource-groups:ListGroupResources\",\n        \"resource-groups:GetGroup\",\n        \"resource-groups:GetGroupQuery\",\n        \"resource-groups:DeleteGroup\",\n        \"resource-groups:CreateGroup\",\n        \"tag:GetResources\",\n        \"kinesis:ListStreams\",\n        \"kinesis:DescribeStream\",\n        \"kinesis:DescribeStreamSummary\"\n      ],\n      \"Effect\": \"Allow\",\n      \"Resource\": \"*\"\n    },\n    {\n      \"Action\": \"cloudwatch:GetInsightRuleReport\",\n      \"Effect\": \"Allow\",\n      \"Resource\": \"arn:aws:cloudwatch:*:*:insight-rule/DynamoDBContributorInsights*\"\n    },\n    {\n      \"Action\": [\n        \"iam:PassRole\"\n      ],\n      \"Effect\": \"Allow\",\n      \"Resource\": \"*\",\n      \"Condition\": {\n        \"StringLike\": {\n          \"iam:PassedToService\": [\n            \"application-autoscaling.amazonaws.com\",\n            \"application-autoscaling.amazonaws.com.cn\",\n            \"dax.amazonaws.com\"\n          ]\n        }\n      }\n    },\n    {\n      \"Effect\": \"Allow\",\n      \"Action\": [\n        \"iam:CreateServiceLinkedRole\"\n      ],\n      \"Resource\": \"*\",\n      \"Condition\": {\n        \"StringEquals\": {\n          \"iam:AWSServiceName\": [\n            \"replication.dynamodb.amazonaws.com\",\n            \"dax.amazonaws.com\",\n            \"dynamodb.application-autoscaling.amazonaws.com\",\n            \"contributorinsights.dynamodb.amazonaws.com\",\n            \"kinesisreplication.dynamodb.amazonaws.com\"\n          ]\n        }\n      }\n    }\n  ]\n}",
                  "policy_id": "ANPAINUGF2JSOSUY76KYA",
                  "tags": {}
                },
                "sensitive_values": {
                  "tags": {}
                }
              },
              {
                "address": "module.application.data.aws_iam_policy.ecs_s3",
                "mode": "data",
                "type": "aws_iam_policy",
                "name": "ecs_s3",
                "provider_name": "registry.terraform.io/hashicorp/aws",
                "schema_version": 0,
                "values": {
                  "arn": "arn:aws:iam::aws:policy/AmazonS3FullAccess",
                  "attachment_count": 0,
                  "description": "Provides full access to all buckets via the AWS Management Console.",
                  "id": "arn:aws:iam::aws:policy/AmazonS3FullAccess",
                  "name": "AmazonS3FullAccess",
                  "path": "/",
                  "path_prefix": null,
                  "policy": "{\n  \"Version\": \"2012-10-17\",\n  \"Statement\": [\n    {\n      \"Effect\": \"Allow\",\n      \"Action\": [\"s3:*\", \"s3-object-lambda:*\"],\n      \"Resource\": \"*\"\n    }\n  ]\n}",
                  "policy_id": "ANPAIFIR6V6BVTRAHWINE",
                  "tags": {}
                },
                "sensitive_values": {
                  "tags": {}
                }
              }
            ],
            "address": "module.application"
          },
          {
            "resources": [
              {
                "address": "module.environment.data.aws_iam_policy_document.s3_iam_pd_cloudnativeapp-tf",
                "mode": "data",
                "type": "aws_iam_policy_document",
                "name": "s3_iam_pd_cloudnativeapp-tf",
                "provider_name": "registry.terraform.io/hashicorp/aws",
                "schema_version": 0,
                "values": {
                  "id": "1707098879",
                  "json": "{\n  \"Version\": \"2012-10-17\",\n  \"Statement\": [\n    {\n      \"Sid\": \"AllowECSPermissions\",\n      \"Effect\": \"Allow\",\n      \"Action\": [\n        \"s3:PutObjectAcl\",\n        \"s3:PutObject\"\n      ],\n      \"Resource\": [\n        \"arn:aws:s3:::qa-bucket-cloudnativeapp1glom-tf/*\",\n        \"arn:aws:s3:::qa-bucket-cloudnativeapp1glom-tf\"\n      ],\n      \"Principal\": {\n        \"Service\": \"ecs-tasks.amazonaws.com\"\n      }\n    },\n    {\n      \"Sid\": \"AllowLambdaPermissions\",\n      \"Effect\": \"Allow\",\n      \"Action\": [\n        \"s3:ListBucket\",\n        \"s3:GetObjectAttributes\",\n        \"s3:GetObject\"\n      ],\n      \"Resource\": [\n        \"arn:aws:s3:::qa-bucket-cloudnativeapp1glom-tf/*\",\n        \"arn:aws:s3:::qa-bucket-cloudnativeapp1glom-tf\"\n      ],\n      \"Principal\": {\n        \"Service\": \"lambda.amazonaws.com\"\n      }\n    }\n  ]\n}",
                  "override_json": null,
                  "override_policy_documents": null,
                  "policy_id": null,
                  "source_json": null,
                  "source_policy_documents": null,
                  "statement": [
                    {
                      "actions": [
                        "s3:PutObject",
                        "s3:PutObjectAcl"
                      ],
                      "condition": [],
                      "effect": "Allow",
                      "not_actions": [],
                      "not_principals": [],
                      "not_resources": [],
                      "principals": [
                        {
                          "identifiers": [
                            "ecs-tasks.amazonaws.com"
                          ],
                          "type": "Service"
                        }
                      ],
                      "resources": [
                        "arn:aws:s3:::qa-bucket-cloudnativeapp1glom-tf",
                        "arn:aws:s3:::qa-bucket-cloudnativeapp1glom-tf/*"
                      ],
                      "sid": "AllowECSPermissions"
                    },
                    {
                      "actions": [
                        "s3:GetObject",
                        "s3:GetObjectAttributes",
                        "s3:ListBucket"
                      ],
                      "condition": [],
                      "effect": "Allow",
                      "not_actions": [],
                      "not_principals": [],
                      "not_resources": [],
                      "principals": [
                        {
                          "identifiers": [
                            "lambda.amazonaws.com"
                          ],
                          "type": "Service"
                        }
                      ],
                      "resources": [
                        "arn:aws:s3:::qa-bucket-cloudnativeapp1glom-tf",
                        "arn:aws:s3:::qa-bucket-cloudnativeapp1glom-tf/*"
                      ],
                      "sid": "AllowLambdaPermissions"
                    }
                  ],
                  "version": "2012-10-17"
                },
                "sensitive_values": {
                  "statement": [
                    {
                      "actions": [
                        false,
                        false
                      ],
                      "condition": [],
                      "not_actions": [],
                      "not_principals": [],
                      "not_resources": [],
                      "principals": [
                        {
                          "identifiers": [
                            false
                          ]
                        }
                      ],
                      "resources": [
                        false,
                        false
                      ]
                    },
                    {
                      "actions": [
                        false,
                        false,
                        false
                      ],
                      "condition": [],
                      "not_actions": [],
                      "not_principals": [],
                      "not_resources": [],
                      "principals": [
                        {
                          "identifiers": [
                            false
                          ]
                        }
                      ],
                      "resources": [
                        false,
                        false
                      ]
                    }
                  ]
                }
              },
              {
                "address": "module.environment.data.aws_region.current",
                "mode": "data",
                "type": "aws_region",
                "name": "current",
                "provider_name": "registry.terraform.io/hashicorp/aws",
                "schema_version": 0,
                "values": {
                  "description": "Europe (Ireland)",
                  "endpoint": "ec2.eu-west-1.amazonaws.com",
                  "id": "eu-west-1",
                  "name": "eu-west-1"
                },
                "sensitive_values": {}
              },
              {
                "address": "module.environment.data.aws_vpc.default",
                "mode": "data",
                "type": "aws_vpc",
                "name": "default",
                "provider_name": "registry.terraform.io/hashicorp/aws",
                "schema_version": 0,
                "values": {
                  "arn": "arn:aws:ec2:eu-west-1:381492307166:vpc/vpc-0bc8d118b26e3aab1",
                  "cidr_block": "172.31.0.0/16",
                  "cidr_block_associations": [
                    {
                      "association_id": "vpc-cidr-assoc-0dabcf581caf5bc1f",
                      "cidr_block": "172.31.0.0/16",
                      "state": "associated"
                    }
                  ],
                  "default": true,
                  "dhcp_options_id": "dopt-01d002979e794685f",
                  "enable_dns_hostnames": true,
                  "enable_dns_support": true,
                  "enable_network_address_usage_metrics": false,
                  "filter": null,
                  "id": "vpc-0bc8d118b26e3aab1",
                  "instance_tenancy": "default",
                  "ipv6_association_id": "",
                  "ipv6_cidr_block": "",
                  "main_route_table_id": "rtb-09a2e441adfc23820",
                  "owner_id": "381492307166",
                  "state": null,
                  "tags": {},
                  "timeouts": null
                },
                "sensitive_values": {
                  "cidr_block_associations": [
                    {}
                  ],
                  "tags": {}
                }
              }
            ],
            "address": "module.environment"
          }
        ]
      }
    }
  },
  "configuration": {
    "provider_config": {
      "module.application:archive": {
        "name": "archive",
        "full_name": "registry.terraform.io/hashicorp/archive",
        "module_address": "module.application"
      },
      "module.application:aws": {
        "name": "aws",
        "full_name": "registry.terraform.io/hashicorp/aws",
        "module_address": "module.application"
      },
      "module.environment:aws": {
        "name": "aws",
        "full_name": "registry.terraform.io/hashicorp/aws",
        "module_address": "module.environment",
        "expressions": {
          "profile": {
            "references": [
              "var.aws_profile"
            ]
          },
          "region": {
            "references": [
              "var.aws_region"
            ]
          }
        }
      }
    },
    "root_module": {
      "module_calls": {
        "application": {
          "source": "../modules/tf-application",
          "expressions": {
            "cloudwatch_log_group": {
              "constant_value": "QaCloudnativeappTfCloudwatchLogGroup"
            },
            "container_name": {
              "constant_value": "cloudnativeapp-1"
            },
            "dynamodb_name": {
              "references": [
                "module.environment.dynamodb_name",
                "module.environment"
              ]
            },
            "ecs_cluster_name": {
              "constant_value": "qa_ecs_cluster_cloudnativeapp-tf"
            },
            "ecs_service_name": {
              "constant_value": "QaCloudNativeApp1TFService"
            },
            "ecs_task_execution_role_name": {
              "constant_value": "qa_ecs_task_execution_role_cloudnativeapp-tf"
            },
            "ecs_task_task_role_name": {
              "constant_value": "qa_ecs_task_task_role_cloudnativeapp-tf"
            },
            "ecs_te_apprunnerservice_iam_policy_attachment_name": {
              "constant_value": "qa_ecs_te_apprunnerservice_iam_policy_attachment_cloudnativeapp-tf"
            },
            "ecs_te_cloudwatch_iam_policy_attachment_name": {
              "constant_value": "qa_ecs_te_cloudwatch_iam_policy_attachment_cloudnativeapp-tf"
            },
            "ecs_tt_dynamodb_iam_policy_attachment_name": {
              "constant_value": "qa_ecs_tt_amazondynamodb_iam_policy_attachment_cloudnativeapp-tf"
            },
            "ecs_tt_s3_iam_policy_attachment_name": {
              "constant_value": "qa_ecs_tt_amazons3_iam_policy_attachment_cloudnativeapp-tf"
            },
            "image_uri": {
              "constant_value": "381492307166.dkr.ecr.eu-west-1.amazonaws.com/cloudnativeapp-1:latest"
            },
            "lambda_function_name": {
              "constant_value": "qa_lambda_cloudnativeapp-tf"
            },
            "lambda_iam_policy_attachment_name": {
              "constant_value": "qa_lambda_iam_policy_attachment_cloudnativeapp-tf"
            },
            "lambda_iam_policy_name": {
              "constant_value": "qa_lambda_iam_policy_cloudnativeapp-tf"
            },
            "lambda_iam_role_name": {
              "constant_value": "qa_lambda_iam_role_cloudnativeapp-tf"
            },
            "load_balancer_name": {
              "constant_value": "QaCloudnativeappTfLb"
            },
            "load_balancer_target_group_name": {
              "constant_value": "QaCloudnativeappTfLbTg"
            },
            "region_name": {
              "references": [
                "module.environment.default_region_name",
                "module.environment"
              ]
            },
            "s3_bucket_name": {
              "references": [
                "module.environment.s3_bucket_name",
                "module.environment"
              ]
            },
            "sqs_queue_arn": {
              "references": [
                "module.environment.sqs_queue_arn",
                "module.environment"
              ]
            },
            "subnet_ids": {
              "references": [
                "module.environment.default_subnet_ids",
                "module.environment"
              ]
            },
            "task_family_name": {
              "constant_value": "Qa_CloudNativeApp1_TF_Task_Definition_Family"
            },
            "vpc_id": {
              "references": [
                "module.environment.default_vpc_id",
                "module.environment"
              ]
            }
          },
          "module": {
            "resources": [
              {
                "address": "aws_cloudwatch_log_group.cloudwatch_log_group",
                "mode": "managed",
                "type": "aws_cloudwatch_log_group",
                "name": "cloudwatch_log_group",
                "provider_config_key": "module.application:aws",
                "expressions": {
                  "name": {
                    "references": [
                      "var.cloudwatch_log_group"
                    ]
                  }
                },
                "schema_version": 0
              },
              {
                "address": "aws_ecs_cluster.ecs_cluster",
                "mode": "managed",
                "type": "aws_ecs_cluster",
                "name": "ecs_cluster",
                "provider_config_key": "module.application:aws",
                "expressions": {
                  "name": {
                    "references": [
                      "var.ecs_cluster_name"
                    ]
                  },
                  "setting": [
                    {
                      "name": {
                        "constant_value": "containerInsights"
                      },
                      "value": {
                        "constant_value": "enabled"
                      }
                    }
                  ]
                },
                "schema_version": 0
              },
              {
                "address": "aws_ecs_service.ecs_service",
                "mode": "managed",
                "type": "aws_ecs_service",
                "name": "ecs_service",
                "provider_config_key": "module.application:aws",
                "expressions": {
                  "cluster": {
                    "references": [
                      "aws_ecs_cluster.ecs_cluster.id",
                      "aws_ecs_cluster.ecs_cluster"
                    ]
                  },
                  "desired_count": {
                    "constant_value": 2
                  },
                  "launch_type": {
                    "constant_value": "FARGATE"
                  },
                  "load_balancer": [
                    {
                      "container_name": {
                        "references": [
                          "var.container_name"
                        ]
                      },
                      "container_port": {
                        "constant_value": 8080
                      },
                      "target_group_arn": {
                        "references": [
                          "aws_lb_target_group.lb_target_group.arn",
                          "aws_lb_target_group.lb_target_group"
                        ]
                      }
                    }
                  ],
                  "name": {
                    "references": [
                      "var.ecs_service_name"
                    ]
                  },
                  "network_configuration": [
                    {
                      "assign_public_ip": {
                        "constant_value": true
                      },
                      "security_groups": {
                        "references": [
                          "aws_security_group.ecs_service_security_group.id",
                          "aws_security_group.ecs_service_security_group"
                        ]
                      },
                      "subnets": {
                        "references": [
                          "var.subnet_ids"
                        ]
                      }
                    }
                  ],
                  "task_definition": {
                    "references": [
                      "aws_ecs_task_definition.ecs_task_definition.arn",
                      "aws_ecs_task_definition.ecs_task_definition"
                    ]
                  }
                },
                "schema_version": 0
              },
              {
                "address": "aws_ecs_task_definition.ecs_task_definition",
                "mode": "managed",
                "type": "aws_ecs_task_definition",
                "name": "ecs_task_definition",
                "provider_config_key": "module.application:aws",
                "expressions": {
                  "container_definitions": {
                    "references": [
                      "var.container_name",
                      "var.image_uri",
                      "var.cloudwatch_log_group",
                      "var.region_name",
                      "var.region_name",
                      "var.s3_bucket_name",
                      "var.dynamodb_name"
                    ]
                  },
                  "cpu": {
                    "constant_value": 1024
                  },
                  "execution_role_arn": {
                    "references": [
                      "aws_iam_role.ecs_task_execution_role.arn",
                      "aws_iam_role.ecs_task_execution_role"
                    ]
                  },
                  "family": {
                    "references": [
                      "var.task_family_name"
                    ]
                  },
                  "memory": {
                    "constant_value": 3072
                  },
                  "network_mode": {
                    "constant_value": "awsvpc"
                  },
                  "requires_compatibilities": {
                    "constant_value": [
                      "FARGATE"
                    ]
                  },
                  "task_role_arn": {
                    "references": [
                      "aws_iam_role.ecs_task_task_role.arn",
                      "aws_iam_role.ecs_task_task_role"
                    ]
                  }
                },
                "schema_version": 1
              },
              {
                "address": "aws_iam_policy.lambda_iam_policy",
                "mode": "managed",
                "type": "aws_iam_policy",
                "name": "lambda_iam_policy",
                "provider_config_key": "module.application:aws",
                "expressions": {
                  "description": {
                    "constant_value": "A policy for lambda"
                  },
                  "name": {
                    "references": [
                      "var.lambda_iam_policy_name"
                    ]
                  },
                  "policy": {}
                },
                "schema_version": 0
              },
              {
                "address": "aws_iam_policy_attachment.ecs_te_apprunnerservice_iam_policy_attachment",
                "mode": "managed",
                "type": "aws_iam_policy_attachment",
                "name": "ecs_te_apprunnerservice_iam_policy_attachment",
                "provider_config_key": "module.application:aws",
                "expressions": {
                  "name": {
                    "references": [
                      "var.ecs_te_apprunnerservice_iam_policy_attachment_name"
                    ]
                  },
                  "policy_arn": {
                    "references": [
                      "data.aws_iam_policy.ecs_app_runner_service.arn",
                      "data.aws_iam_policy.ecs_app_runner_service"
                    ]
                  },
                  "roles": {
                    "references": [
                      "aws_iam_role.ecs_task_execution_role.name",
                      "aws_iam_role.ecs_task_execution_role"
                    ]
                  }
                },
                "schema_version": 0
              },
              {
                "address": "aws_iam_policy_attachment.ecs_te_cloudwatch_iam_policy_attachment",
                "mode": "managed",
                "type": "aws_iam_policy_attachment",
                "name": "ecs_te_cloudwatch_iam_policy_attachment",
                "provider_config_key": "module.application:aws",
                "expressions": {
                  "name": {
                    "references": [
                      "var.ecs_te_cloudwatch_iam_policy_attachment_name"
                    ]
                  },
                  "policy_arn": {
                    "references": [
                      "data.aws_iam_policy.ecs_cloud_watch.arn",
                      "data.aws_iam_policy.ecs_cloud_watch"
                    ]
                  },
                  "roles": {
                    "references": [
                      "aws_iam_role.ecs_task_execution_role.name",
                      "aws_iam_role.ecs_task_execution_role"
                    ]
                  }
                },
                "schema_version": 0
              },
              {
                "address": "aws_iam_policy_attachment.ecs_tt_dynamodb_iam_policy_attachment",
                "mode": "managed",
                "type": "aws_iam_policy_attachment",
                "name": "ecs_tt_dynamodb_iam_policy_attachment",
                "provider_config_key": "module.application:aws",
                "expressions": {
                  "name": {
                    "references": [
                      "var.ecs_tt_dynamodb_iam_policy_attachment_name"
                    ]
                  },
                  "policy_arn": {
                    "references": [
                      "data.aws_iam_policy.ecs_dynamodb.arn",
                      "data.aws_iam_policy.ecs_dynamodb"
                    ]
                  },
                  "roles": {
                    "references": [
                      "aws_iam_role.ecs_task_task_role.name",
                      "aws_iam_role.ecs_task_task_role"
                    ]
                  }
                },
                "schema_version": 0
              },
              {
                "address": "aws_iam_policy_attachment.ecs_tt_s3_iam_policy_attachment",
                "mode": "managed",
                "type": "aws_iam_policy_attachment",
                "name": "ecs_tt_s3_iam_policy_attachment",
                "provider_config_key": "module.application:aws",
                "expressions": {
                  "name": {
                    "references": [
                      "var.ecs_tt_s3_iam_policy_attachment_name"
                    ]
                  },
                  "policy_arn": {
                    "references": [
                      "data.aws_iam_policy.ecs_s3.arn",
                      "data.aws_iam_policy.ecs_s3"
                    ]
                  },
                  "roles": {
                    "references": [
                      "aws_iam_role.ecs_task_task_role.name",
                      "aws_iam_role.ecs_task_task_role"
                    ]
                  }
                },
                "schema_version": 0
              },
              {
                "address": "aws_iam_policy_attachment.lambda_iam_policy_attachment",
                "mode": "managed",
                "type": "aws_iam_policy_attachment",
                "name": "lambda_iam_policy_attachment",
                "provider_config_key": "module.application:aws",
                "expressions": {
                  "name": {
                    "references": [
                      "var.lambda_iam_policy_attachment_name"
                    ]
                  },
                  "policy_arn": {
                    "references": [
                      "aws_iam_policy.lambda_iam_policy.arn",
                      "aws_iam_policy.lambda_iam_policy"
                    ]
                  },
                  "roles": {
                    "references": [
                      "aws_iam_role.lambda_iam_role.name",
                      "aws_iam_role.lambda_iam_role"
                    ]
                  }
                },
                "schema_version": 0
              },
              {
                "address": "aws_iam_role.ecs_task_execution_role",
                "mode": "managed",
                "type": "aws_iam_role",
                "name": "ecs_task_execution_role",
                "provider_config_key": "module.application:aws",
                "expressions": {
                  "assume_role_policy": {},
                  "name": {
                    "references": [
                      "var.ecs_task_execution_role_name"
                    ]
                  }
                },
                "schema_version": 0
              },
              {
                "address": "aws_iam_role.ecs_task_task_role",
                "mode": "managed",
                "type": "aws_iam_role",
                "name": "ecs_task_task_role",
                "provider_config_key": "module.application:aws",
                "expressions": {
                  "assume_role_policy": {},
                  "name": {
                    "references": [
                      "var.ecs_task_task_role_name"
                    ]
                  }
                },
                "schema_version": 0
              },
              {
                "address": "aws_iam_role.lambda_iam_role",
                "mode": "managed",
                "type": "aws_iam_role",
                "name": "lambda_iam_role",
                "provider_config_key": "module.application:aws",
                "expressions": {
                  "assume_role_policy": {},
                  "name": {
                    "references": [
                      "var.lambda_iam_role_name"
                    ]
                  }
                },
                "schema_version": 0
              },
              {
                "address": "aws_iam_role_policy_attachment.lambda_basic_execution_policy",
                "mode": "managed",
                "type": "aws_iam_role_policy_attachment",
                "name": "lambda_basic_execution_policy",
                "provider_config_key": "module.application:aws",
                "expressions": {
                  "policy_arn": {
                    "constant_value": "arn:aws:iam::aws:policy/service-role/AWSLambdaBasicExecutionRole"
                  },
                  "role": {
                    "references": [
                      "aws_iam_role.lambda_iam_role.name",
                      "aws_iam_role.lambda_iam_role"
                    ]
                  }
                },
                "schema_version": 0
              },
              {
                "address": "aws_iam_role_policy_attachment.lambda_basic_sqs_queue_execution_policy",
                "mode": "managed",
                "type": "aws_iam_role_policy_attachment",
                "name": "lambda_basic_sqs_queue_execution_policy",
                "provider_config_key": "module.application:aws",
                "expressions": {
                  "policy_arn": {
                    "constant_value": "arn:aws:iam::aws:policy/service-role/AWSLambdaSQSQueueExecutionRole"
                  },
                  "role": {
                    "references": [
                      "aws_iam_role.lambda_iam_role.name",
                      "aws_iam_role.lambda_iam_role"
                    ]
                  }
                },
                "schema_version": 0
              },
              {
                "address": "aws_lambda_event_source_mapping.lambda_test_sqs_trigger",
                "mode": "managed",
                "type": "aws_lambda_event_source_mapping",
                "name": "lambda_test_sqs_trigger",
                "provider_config_key": "module.application:aws",
                "expressions": {
                  "event_source_arn": {
                    "references": [
                      "var.sqs_queue_arn"
                    ]
                  },
                  "function_name": {
                    "references": [
                      "aws_lambda_function.lambda_function.arn",
                      "aws_lambda_function.lambda_function"
                    ]
                  }
                },
                "schema_version": 0
              },
              {
                "address": "aws_lambda_function.lambda_function",
                "mode": "managed",
                "type": "aws_lambda_function",
                "name": "lambda_function",
                "provider_config_key": "module.application:aws",
                "expressions": {
                  "environment": [
                    {
                      "variables": {
                        "references": [
                          "var.dynamodb_name"
                        ]
                      }
                    }
                  ],
                  "filename": {
                    "references": [
                      "path.module"
                    ]
                  },
                  "function_name": {
                    "references": [
                      "var.lambda_function_name"
                    ]
                  },
                  "handler": {
                    "constant_value": "index.lambda_handler"
                  },
                  "role": {
                    "references": [
                      "aws_iam_role.lambda_iam_role.arn",
                      "aws_iam_role.lambda_iam_role"
                    ]
                  },
                  "runtime": {
                    "constant_value": "python3.12"
                  },
                  "source_code_hash": {
                    "references": [
                      "data.archive_file.lambda_archive_file_cloudnativeapp-tf.output_base64sha256",
                      "data.archive_file.lambda_archive_file_cloudnativeapp-tf"
                    ]
                  }
                },
                "schema_version": 0
              },
              {
                "address": "aws_lb.load_balancer",
                "mode": "managed",
                "type": "aws_lb",
                "name": "load_balancer",
                "provider_config_key": "module.application:aws",
                "expressions": {
                  "drop_invalid_header_fields": {
                    "constant_value": true
                  },
                  "enable_deletion_protection": {
                    "constant_value": false
                  },
                  "internal": {
                    "constant_value": false
                  },
                  "load_balancer_type": {
                    "constant_value": "application"
                  },
                  "name": {
                    "references": [
                      "var.load_balancer_name"
                    ]
                  },
                  "security_groups": {
                    "references": [
                      "aws_security_group.ecs_service_security_group.id",
                      "aws_security_group.ecs_service_security_group"
                    ]
                  },
                  "subnets": {
                    "references": [
                      "var.subnet_ids"
                    ]
                  }
                },
                "schema_version": 0
              },
              {
                "address": "aws_lb_listener.lb_listener",
                "mode": "managed",
                "type": "aws_lb_listener",
                "name": "lb_listener",
                "provider_config_key": "module.application:aws",
                "expressions": {
                  "default_action": [
                    {
                      "target_group_arn": {
                        "references": [
                          "aws_lb_target_group.lb_target_group.arn",
                          "aws_lb_target_group.lb_target_group"
                        ]
                      },
                      "type": {
                        "constant_value": "forward"
                      }
                    }
                  ],
                  "load_balancer_arn": {
                    "references": [
                      "aws_lb.load_balancer.arn",
                      "aws_lb.load_balancer"
                    ]
                  },
                  "port": {
                    "constant_value": "80"
                  },
                  "protocol": {
                    "constant_value": "HTTP"
                  }
                },
                "schema_version": 0
              },
              {
                "address": "aws_lb_target_group.lb_target_group",
                "mode": "managed",
                "type": "aws_lb_target_group",
                "name": "lb_target_group",
                "provider_config_key": "module.application:aws",
                "expressions": {
                  "health_check": [
                    {
                      "path": {
                        "constant_value": "/"
                      }
                    }
                  ],
                  "name": {
                    "references": [
                      "var.load_balancer_target_group_name"
                    ]
                  },
                  "port": {
                    "constant_value": 80
                  },
                  "protocol": {
                    "constant_value": "HTTP"
                  },
                  "target_type": {
                    "constant_value": "ip"
                  },
                  "vpc_id": {
                    "references": [
                      "var.vpc_id"
                    ]
                  }
                },
                "schema_version": 0
              },
              {
                "address": "aws_security_group.ecs_service_security_group",
                "mode": "managed",
                "type": "aws_security_group",
                "name": "ecs_service_security_group",
                "provider_config_key": "module.application:aws",
                "expressions": {
                  "description": {
                    "constant_value": "Allow all inbound traffic and all outbound traffic"
                  },
                  "name": {
                    "constant_value": "ecs_service_security_group_cloudnativeapp1-tf"
                  },
                  "tags": {
                    "constant_value": {
                      "Name": "allow_all"
                    }
                  },
                  "vpc_id": {
                    "references": [
                      "var.vpc_id"
                    ]
                  }
                },
                "schema_version": 1
              },
              {
                "address": "aws_vpc_security_group_egress_rule.allow_all_traffic_ipv4",
                "mode": "managed",
                "type": "aws_vpc_security_group_egress_rule",
                "name": "allow_all_traffic_ipv4",
                "provider_config_key": "module.application:aws",
                "expressions": {
                  "cidr_ipv4": {
                    "constant_value": "0.0.0.0/0"
                  },
                  "ip_protocol": {
                    "constant_value": "-1"
                  },
                  "security_group_id": {
                    "references": [
                      "aws_security_group.ecs_service_security_group.id",
                      "aws_security_group.ecs_service_security_group"
                    ]
                  }
                },
                "schema_version": 0
              },
              {
                "address": "aws_vpc_security_group_egress_rule.allow_all_traffic_ipv6",
                "mode": "managed",
                "type": "aws_vpc_security_group_egress_rule",
                "name": "allow_all_traffic_ipv6",
                "provider_config_key": "module.application:aws",
                "expressions": {
                  "cidr_ipv6": {
                    "constant_value": "::/0"
                  },
                  "ip_protocol": {
                    "constant_value": "-1"
                  },
                  "security_group_id": {
                    "references": [
                      "aws_security_group.ecs_service_security_group.id",
                      "aws_security_group.ecs_service_security_group"
                    ]
                  }
                },
                "schema_version": 0
              },
              {
                "address": "aws_vpc_security_group_ingress_rule.allow_all_traffic_ipv4",
                "mode": "managed",
                "type": "aws_vpc_security_group_ingress_rule",
                "name": "allow_all_traffic_ipv4",
                "provider_config_key": "module.application:aws",
                "expressions": {
                  "cidr_ipv4": {
                    "constant_value": "0.0.0.0/0"
                  },
                  "ip_protocol": {
                    "constant_value": "-1"
                  },
                  "security_group_id": {
                    "references": [
                      "aws_security_group.ecs_service_security_group.id",
                      "aws_security_group.ecs_service_security_group"
                    ]
                  }
                },
                "schema_version": 0
              },
              {
                "address": "aws_vpc_security_group_ingress_rule.allow_all_traffic_ipv6",
                "mode": "managed",
                "type": "aws_vpc_security_group_ingress_rule",
                "name": "allow_all_traffic_ipv6",
                "provider_config_key": "module.application:aws",
                "expressions": {
                  "cidr_ipv6": {
                    "constant_value": "::/0"
                  },
                  "ip_protocol": {
                    "constant_value": "-1"
                  },
                  "security_group_id": {
                    "references": [
                      "aws_security_group.ecs_service_security_group.id",
                      "aws_security_group.ecs_service_security_group"
                    ]
                  }
                },
                "schema_version": 0
              },
              {
                "address": "data.archive_file.lambda_archive_file_cloudnativeapp-tf",
                "mode": "data",
                "type": "archive_file",
                "name": "lambda_archive_file_cloudnativeapp-tf",
                "provider_config_key": "module.application:archive",
                "expressions": {
                  "output_path": {
                    "references": [
                      "path.module"
                    ]
                  },
                  "source_file": {
                    "references": [
                      "path.module"
                    ]
                  },
                  "type": {
                    "constant_value": "zip"
                  }
                },
                "schema_version": 0
              },
              {
                "address": "data.aws_iam_policy.ecs_app_runner_service",
                "mode": "data",
                "type": "aws_iam_policy",
                "name": "ecs_app_runner_service",
                "provider_config_key": "module.application:aws",
                "expressions": {
                  "name": {
                    "constant_value": "AWSAppRunnerServicePolicyForECRAccess"
                  }
                },
                "schema_version": 0
              },
              {
                "address": "data.aws_iam_policy.ecs_cloud_watch",
                "mode": "data",
                "type": "aws_iam_policy",
                "name": "ecs_cloud_watch",
                "provider_config_key": "module.application:aws",
                "expressions": {
                  "name": {
                    "constant_value": "CloudWatchLogsFullAccess"
                  }
                },
                "schema_version": 0
              },
              {
                "address": "data.aws_iam_policy.ecs_dynamodb",
                "mode": "data",
                "type": "aws_iam_policy",
                "name": "ecs_dynamodb",
                "provider_config_key": "module.application:aws",
                "expressions": {
                  "name": {
                    "constant_value": "AmazonDynamoDBFullAccess"
                  }
                },
                "schema_version": 0
              },
              {
                "address": "data.aws_iam_policy.ecs_s3",
                "mode": "data",
                "type": "aws_iam_policy",
                "name": "ecs_s3",
                "provider_config_key": "module.application:aws",
                "expressions": {
                  "name": {
                    "constant_value": "AmazonS3FullAccess"
                  }
                },
                "schema_version": 0
              }
            ],
            "variables": {
              "cloudwatch_log_group": {},
              "container_name": {},
              "dynamodb_name": {},
              "ecs_cluster_name": {},
              "ecs_service_name": {},
              "ecs_task_execution_role_name": {},
              "ecs_task_task_role_name": {},
              "ecs_te_apprunnerservice_iam_policy_attachment_name": {},
              "ecs_te_cloudwatch_iam_policy_attachment_name": {},
              "ecs_tt_dynamodb_iam_policy_attachment_name": {},
              "ecs_tt_s3_iam_policy_attachment_name": {},
              "image_uri": {},
              "lambda_function_name": {},
              "lambda_iam_policy_attachment_name": {},
              "lambda_iam_policy_name": {},
              "lambda_iam_role_name": {},
              "load_balancer_name": {},
              "load_balancer_target_group_name": {},
              "region_name": {},
              "s3_bucket_name": {},
              "sqs_queue_arn": {},
              "subnet_ids": {},
              "task_family_name": {},
              "vpc_id": {}
            }
          }
        },
        "environment": {
          "source": "../modules/tf-environment",
          "expressions": {
            "availability_zone_a_name": {
              "constant_value": "eu-west-1a"
            },
            "availability_zone_b_name": {
              "constant_value": "eu-west-1b"
            },
            "bucket_name": {
              "constant_value": "qa-bucket-cloudnativeapp1glom-tf"
            },
            "default_subnet_a_cidr_blocks": {
              "constant_value": "172.31.0.0/20"
            },
            "default_subnet_a_id": {
              "constant_value": "subnet-0e2759092403c537c"
            },
            "default_subnet_b_cidr_blocks": {
              "constant_value": "172.31.16.0/20"
            },
            "default_subnet_b_id": {
              "constant_value": "subnet-01da444623a60d536"
            },
            "dynamodb_table_name": {
              "constant_value": "QaCloudNativeApp1Table-tf"
            },
            "sns_name": {
              "constant_value": "qa-image-notification-cloudnativeapp1glom-tf"
            },
            "sqs_name": {
              "constant_value": "qa-queue-cloudnativeapp1glom-tf"
            }
          },
          "module": {
            "outputs": {
              "default_region_name": {
                "expression": {
                  "references": [
                    "data.aws_region.current.name",
                    "data.aws_region.current"
                  ]
                }
              },
              "default_subnet_ids": {
                "expression": {
                  "references": [
                    "var.default_subnet_a_id",
                    "var.default_subnet_b_id"
                  ]
                }
              },
              "default_vpc_id": {
                "expression": {
                  "references": [
                    "data.aws_vpc.default.id",
                    "data.aws_vpc.default"
                  ]
                }
              },
              "dynamodb_name": {
                "expression": {
                  "references": [
                    "aws_dynamodb_table.dynamodb_table_cloudnativeapp-tf.name",
                    "aws_dynamodb_table.dynamodb_table_cloudnativeapp-tf"
                  ]
                }
              },
              "s3_bucket_name": {
                "expression": {
                  "references": [
                    "aws_s3_bucket.s3_bucket_cloudnativeapp-tf.bucket",
                    "aws_s3_bucket.s3_bucket_cloudnativeapp-tf"
                  ]
                }
              },
              "sqs_queue_arn": {
                "expression": {
                  "references": [
                    "aws_sqs_queue.sqs_queue_cloudnativeapp-tf.arn",
                    "aws_sqs_queue.sqs_queue_cloudnativeapp-tf"
                  ]
                }
              }
            },
            "resources": [
              {
                "address": "aws_default_subnet.default_subnet_a",
                "mode": "managed",
                "type": "aws_default_subnet",
                "name": "default_subnet_a",
                "provider_config_key": "module.environment:aws",
                "expressions": {
                  "availability_zone": {
                    "references": [
                      "var.availability_zone_a_name"
                    ]
                  }
                },
                "schema_version": 1
              },
              {
                "address": "aws_default_subnet.default_subnet_b",
                "mode": "managed",
                "type": "aws_default_subnet",
                "name": "default_subnet_b",
                "provider_config_key": "module.environment:aws",
                "expressions": {
                  "availability_zone": {
                    "references": [
                      "var.availability_zone_b_name"
                    ]
                  }
                },
                "schema_version": 1
              },
              {
                "address": "aws_dynamodb_table.dynamodb_table_cloudnativeapp-tf",
                "mode": "managed",
                "type": "aws_dynamodb_table",
                "name": "dynamodb_table_cloudnativeapp-tf",
                "provider_config_key": "module.environment:aws",
                "expressions": {
                  "attribute": [
                    {
                      "name": {
                        "constant_value": "LabelValue"
                      },
                      "type": {
                        "constant_value": "S"
                      }
                    },
                    {
                      "name": {
                        "constant_value": "ImageName"
                      },
                      "type": {
                        "constant_value": "S"
                      }
                    }
                  ],
                  "billing_mode": {
                    "constant_value": "PROVISIONED"
                  },
                  "hash_key": {
                    "constant_value": "LabelValue"
                  },
                  "name": {
                    "references": [
                      "var.dynamodb_table_name"
                    ]
                  },
                  "range_key": {
                    "constant_value": "ImageName"
                  },
                  "read_capacity": {
                    "constant_value": 10
                  },
                  "write_capacity": {
                    "constant_value": 10
                  }
                },
                "schema_version": 1
              },
              {
                "address": "aws_s3_bucket.s3_bucket_cloudnativeapp-tf",
                "mode": "managed",
                "type": "aws_s3_bucket",
                "name": "s3_bucket_cloudnativeapp-tf",
                "provider_config_key": "module.environment:aws",
                "expressions": {
                  "bucket": {
                    "references": [
                      "var.bucket_name"
                    ]
                  },
                  "force_destroy": {
                    "constant_value": true
                  }
                },
                "schema_version": 0
              },
              {
                "address": "aws_s3_bucket_acl.s3_bucket_acl_cloudnativeapp-tf",
                "mode": "managed",
                "type": "aws_s3_bucket_acl",
                "name": "s3_bucket_acl_cloudnativeapp-tf",
                "provider_config_key": "module.environment:aws",
                "expressions": {
                  "acl": {
                    "constant_value": "public-read"
                  },
                  "bucket": {
                    "references": [
                      "aws_s3_bucket.s3_bucket_cloudnativeapp-tf.id",
                      "aws_s3_bucket.s3_bucket_cloudnativeapp-tf"
                    ]
                  }
                },
                "schema_version": 0,
                "depends_on": [
                  "aws_s3_bucket_ownership_controls.s3_bucket_oc_cloudnativeapp-tf",
                  "aws_s3_bucket_public_access_block.s3_bucket_pab_cloudnativeapp-tf"
                ]
              },
              {
                "address": "aws_s3_bucket_notification.s3_bucket_notification_cloudnativeapp-tf",
                "mode": "managed",
                "type": "aws_s3_bucket_notification",
                "name": "s3_bucket_notification_cloudnativeapp-tf",
                "provider_config_key": "module.environment:aws",
                "expressions": {
                  "bucket": {
                    "references": [
                      "aws_s3_bucket.s3_bucket_cloudnativeapp-tf.id",
                      "aws_s3_bucket.s3_bucket_cloudnativeapp-tf"
                    ]
                  },
                  "topic": [
                    {
                      "events": {
                        "constant_value": [
                          "s3:ObjectCreated:*"
                        ]
                      },
                      "topic_arn": {
                        "references": [
                          "aws_sns_topic.sns_image_notification-tf.arn",
                          "aws_sns_topic.sns_image_notification-tf"
                        ]
                      }
                    }
                  ]
                },
                "schema_version": 0
              },
              {
                "address": "aws_s3_bucket_ownership_controls.s3_bucket_oc_cloudnativeapp-tf",
                "mode": "managed",
                "type": "aws_s3_bucket_ownership_controls",
                "name": "s3_bucket_oc_cloudnativeapp-tf",
                "provider_config_key": "module.environment:aws",
                "expressions": {
                  "bucket": {
                    "references": [
                      "aws_s3_bucket.s3_bucket_cloudnativeapp-tf.id",
                      "aws_s3_bucket.s3_bucket_cloudnativeapp-tf"
                    ]
                  },
                  "rule": [
                    {
                      "object_ownership": {
                        "constant_value": "BucketOwnerPreferred"
                      }
                    }
                  ]
                },
                "schema_version": 0
              },
              {
                "address": "aws_s3_bucket_policy.s3_bucket_policy_cloudnativeapp-tf",
                "mode": "managed",
                "type": "aws_s3_bucket_policy",
                "name": "s3_bucket_policy_cloudnativeapp-tf",
                "provider_config_key": "module.environment:aws",
                "expressions": {
                  "bucket": {
                    "references": [
                      "aws_s3_bucket.s3_bucket_cloudnativeapp-tf.id",
                      "aws_s3_bucket.s3_bucket_cloudnativeapp-tf"
                    ]
                  },
                  "policy": {
                    "references": [
                      "data.aws_iam_policy_document.s3_iam_pd_cloudnativeapp-tf.json",
                      "data.aws_iam_policy_document.s3_iam_pd_cloudnativeapp-tf"
                    ]
                  }
                },
                "schema_version": 0
              },
              {
                "address": "aws_s3_bucket_public_access_block.s3_bucket_pab_cloudnativeapp-tf",
                "mode": "managed",
                "type": "aws_s3_bucket_public_access_block",
                "name": "s3_bucket_pab_cloudnativeapp-tf",
                "provider_config_key": "module.environment:aws",
                "expressions": {
                  "block_public_acls": {
                    "constant_value": true
                  },
                  "block_public_policy": {
                    "constant_value": true
                  },
                  "bucket": {
                    "references": [
                      "aws_s3_bucket.s3_bucket_cloudnativeapp-tf.id",
                      "aws_s3_bucket.s3_bucket_cloudnativeapp-tf"
                    ]
                  },
                  "ignore_public_acls": {
                    "constant_value": true
                  },
                  "restrict_public_buckets": {
                    "constant_value": true
                  }
                },
                "schema_version": 0
              },
              {
                "address": "aws_s3_bucket_server_side_encryption_configuration.s3_bucket_ssec_cloudnativeapp-tf",
                "mode": "managed",
                "type": "aws_s3_bucket_server_side_encryption_configuration",
                "name": "s3_bucket_ssec_cloudnativeapp-tf",
                "provider_config_key": "module.environment:aws",
                "expressions": {
                  "bucket": {
                    "references": [
                      "aws_s3_bucket.s3_bucket_cloudnativeapp-tf.id",
                      "aws_s3_bucket.s3_bucket_cloudnativeapp-tf"
                    ]
                  },
                  "rule": [
                    {
                      "apply_server_side_encryption_by_default": [
                        {
                          "sse_algorithm": {
                            "constant_value": "AES256"
                          }
                        }
                      ],
                      "bucket_key_enabled": {
                        "constant_value": true
                      }
                    }
                  ]
                },
                "schema_version": 0
              },
              {
                "address": "aws_security_group.ecr_api_sg",
                "mode": "managed",
                "type": "aws_security_group",
                "name": "ecr_api_sg",
                "provider_config_key": "module.environment:aws",
                "expressions": {
                  "description": {
                    "constant_value": "ECR API Security group"
                  },
                  "egress": {
                    "constant_value": [
                      {
                        "cidr_blocks": [
                          "0.0.0.0/0"
                        ],
                        "description": "allow all egress traffic",
                        "from_port": 0,
                        "ipv6_cidr_blocks": null,
                        "prefix_list_ids": null,
                        "protocol": "tcp",
                        "security_groups": null,
                        "self": null,
                        "to_port": 65535
                      }
                    ]
                  },
                  "ingress": {
                    "references": [
                      "data.aws_vpc.default.cidr_block",
                      "data.aws_vpc.default"
                    ]
                  },
                  "vpc_id": {
                    "references": [
                      "data.aws_vpc.default.id",
                      "data.aws_vpc.default"
                    ]
                  }
                },
                "schema_version": 1
              },
              {
                "address": "aws_security_group.ecr_dkr_sg",
                "mode": "managed",
                "type": "aws_security_group",
                "name": "ecr_dkr_sg",
                "provider_config_key": "module.environment:aws",
                "expressions": {
                  "description": {
                    "constant_value": "ECR DKR Security group"
                  },
                  "egress": {
                    "constant_value": [
                      {
                        "cidr_blocks": [
                          "0.0.0.0/0"
                        ],
                        "description": "allow all egress traffic",
                        "from_port": 0,
                        "ipv6_cidr_blocks": null,
                        "prefix_list_ids": null,
                        "protocol": "tcp",
                        "security_groups": null,
                        "self": null,
                        "to_port": 65535
                      }
                    ]
                  },
                  "ingress": {
                    "references": [
                      "data.aws_vpc.default.cidr_block",
                      "data.aws_vpc.default"
                    ]
                  },
                  "vpc_id": {
                    "references": [
                      "data.aws_vpc.default.id",
                      "data.aws_vpc.default"
                    ]
                  }
                },
                "schema_version": 1
              },
              {
                "address": "aws_security_group.logs_sg",
                "mode": "managed",
                "type": "aws_security_group",
                "name": "logs_sg",
                "provider_config_key": "module.environment:aws",
                "expressions": {
                  "description": {
                    "constant_value": "Logs Security group"
                  },
                  "egress": {
                    "constant_value": [
                      {
                        "cidr_blocks": [
                          "0.0.0.0/0"
                        ],
                        "description": "allow all egress traffic",
                        "from_port": 0,
                        "ipv6_cidr_blocks": null,
                        "prefix_list_ids": null,
                        "protocol": "tcp",
                        "security_groups": null,
                        "self": null,
                        "to_port": 65535
                      }
                    ]
                  },
                  "ingress": {
                    "references": [
                      "data.aws_vpc.default.cidr_block",
                      "data.aws_vpc.default"
                    ]
                  },
                  "vpc_id": {
                    "references": [
                      "data.aws_vpc.default.id",
                      "data.aws_vpc.default"
                    ]
                  }
                },
                "schema_version": 1
              },
              {
                "address": "aws_sns_topic.sns_image_notification-tf",
                "mode": "managed",
                "type": "aws_sns_topic",
                "name": "sns_image_notification-tf",
                "provider_config_key": "module.environment:aws",
                "expressions": {
                  "name": {
                    "references": [
                      "var.sns_name"
                    ]
                  },
                  "policy": {
                    "references": [
                      "data.aws_iam_policy_document.sns_iam_pd_cloudnativeapp-tf.json",
                      "data.aws_iam_policy_document.sns_iam_pd_cloudnativeapp-tf"
                    ]
                  }
                },
                "schema_version": 0
              },
              {
                "address": "aws_sns_topic_subscription.sns_image_notification_topic_subscription-tf",
                "mode": "managed",
                "type": "aws_sns_topic_subscription",
                "name": "sns_image_notification_topic_subscription-tf",
                "provider_config_key": "module.environment:aws",
                "expressions": {
                  "endpoint": {
                    "references": [
                      "aws_sqs_queue.sqs_queue_cloudnativeapp-tf.arn",
                      "aws_sqs_queue.sqs_queue_cloudnativeapp-tf"
                    ]
                  },
                  "protocol": {
                    "constant_value": "sqs"
                  },
                  "topic_arn": {
                    "references": [
                      "aws_sns_topic.sns_image_notification-tf.arn",
                      "aws_sns_topic.sns_image_notification-tf"
                    ]
                  }
                },
                "schema_version": 0
              },
              {
                "address": "aws_sqs_queue.sqs_queue_cloudnativeapp-tf",
                "mode": "managed",
                "type": "aws_sqs_queue",
                "name": "sqs_queue_cloudnativeapp-tf",
                "provider_config_key": "module.environment:aws",
                "expressions": {
                  "fifo_queue": {
                    "constant_value": false
                  },
                  "name": {
                    "references": [
                      "var.sqs_name"
                    ]
                  }
                },
                "schema_version": 0
              },
              {
                "address": "aws_sqs_queue_policy.sqs_queue_cloudnativeapp_policy",
                "mode": "managed",
                "type": "aws_sqs_queue_policy",
                "name": "sqs_queue_cloudnativeapp_policy",
                "provider_config_key": "module.environment:aws",
                "expressions": {
                  "policy": {
                    "references": [
                      "data.aws_iam_policy_document.sqs_iam_pd_cloudnativeapp-tf.json",
                      "data.aws_iam_policy_document.sqs_iam_pd_cloudnativeapp-tf"
                    ]
                  },
                  "queue_url": {
                    "references": [
                      "aws_sqs_queue.sqs_queue_cloudnativeapp-tf.id",
                      "aws_sqs_queue.sqs_queue_cloudnativeapp-tf"
                    ]
                  }
                },
                "schema_version": 1
              },
              {
                "address": "aws_vpc_endpoint.dynamodb_endpoint",
                "mode": "managed",
                "type": "aws_vpc_endpoint",
                "name": "dynamodb_endpoint",
                "provider_config_key": "module.environment:aws",
                "expressions": {
                  "service_name": {
                    "references": [
                      "var.aws_region"
                    ]
                  },
                  "vpc_endpoint_type": {
                    "constant_value": "Gateway"
                  },
                  "vpc_id": {
                    "references": [
                      "data.aws_vpc.default.id",
                      "data.aws_vpc.default"
                    ]
                  }
                },
                "schema_version": 0
              },
              {
                "address": "aws_vpc_endpoint.ecr_api_endpoint",
                "mode": "managed",
                "type": "aws_vpc_endpoint",
                "name": "ecr_api_endpoint",
                "provider_config_key": "module.environment:aws",
                "expressions": {
                  "private_dns_enabled": {
                    "constant_value": true
                  },
                  "security_group_ids": {
                    "references": [
                      "aws_security_group.ecr_api_sg.id",
                      "aws_security_group.ecr_api_sg"
                    ]
                  },
                  "service_name": {
                    "references": [
                      "var.aws_region"
                    ]
                  },
                  "subnet_ids": {
                    "references": [
                      "var.default_subnet_a_id",
                      "var.default_subnet_b_id"
                    ]
                  },
                  "vpc_endpoint_type": {
                    "constant_value": "Interface"
                  },
                  "vpc_id": {
                    "references": [
                      "data.aws_vpc.default.id",
                      "data.aws_vpc.default"
                    ]
                  }
                },
                "schema_version": 0
              },
              {
                "address": "aws_vpc_endpoint.ecr_dkr_endpoint",
                "mode": "managed",
                "type": "aws_vpc_endpoint",
                "name": "ecr_dkr_endpoint",
                "provider_config_key": "module.environment:aws",
                "expressions": {
                  "private_dns_enabled": {
                    "constant_value": true
                  },
                  "security_group_ids": {
                    "references": [
                      "aws_security_group.ecr_dkr_sg.id",
                      "aws_security_group.ecr_dkr_sg"
                    ]
                  },
                  "service_name": {
                    "references": [
                      "var.aws_region"
                    ]
                  },
                  "subnet_ids": {
                    "references": [
                      "var.default_subnet_a_id",
                      "var.default_subnet_b_id"
                    ]
                  },
                  "vpc_endpoint_type": {
                    "constant_value": "Interface"
                  },
                  "vpc_id": {
                    "references": [
                      "data.aws_vpc.default.id",
                      "data.aws_vpc.default"
                    ]
                  }
                },
                "schema_version": 0
              },
              {
                "address": "aws_vpc_endpoint.logs_endpoint",
                "mode": "managed",
                "type": "aws_vpc_endpoint",
                "name": "logs_endpoint",
                "provider_config_key": "module.environment:aws",
                "expressions": {
                  "private_dns_enabled": {
                    "constant_value": true
                  },
                  "security_group_ids": {
                    "references": [
                      "aws_security_group.logs_sg.id",
                      "aws_security_group.logs_sg"
                    ]
                  },
                  "service_name": {
                    "references": [
                      "var.aws_region"
                    ]
                  },
                  "subnet_ids": {
                    "references": [
                      "var.default_subnet_a_id",
                      "var.default_subnet_b_id"
                    ]
                  },
                  "vpc_endpoint_type": {
                    "constant_value": "Interface"
                  },
                  "vpc_id": {
                    "references": [
                      "data.aws_vpc.default.id",
                      "data.aws_vpc.default"
                    ]
                  }
                },
                "schema_version": 0
              },
              {
                "address": "aws_vpc_endpoint.s3_endpoint",
                "mode": "managed",
                "type": "aws_vpc_endpoint",
                "name": "s3_endpoint",
                "provider_config_key": "module.environment:aws",
                "expressions": {
                  "service_name": {
                    "references": [
                      "var.aws_region"
                    ]
                  },
                  "vpc_endpoint_type": {
                    "constant_value": "Gateway"
                  },
                  "vpc_id": {
                    "references": [
                      "data.aws_vpc.default.id",
                      "data.aws_vpc.default"
                    ]
                  }
                },
                "schema_version": 0
              },
              {
                "address": "data.aws_iam_policy_document.s3_iam_pd_cloudnativeapp-tf",
                "mode": "data",
                "type": "aws_iam_policy_document",
                "name": "s3_iam_pd_cloudnativeapp-tf",
                "provider_config_key": "module.environment:aws",
                "expressions": {
                  "statement": [
                    {
                      "actions": {
                        "constant_value": [
                          "s3:PutObject",
                          "s3:PutObjectAcl"
                        ]
                      },
                      "effect": {
                        "constant_value": "Allow"
                      },
                      "principals": [
                        {
                          "identifiers": {
                            "constant_value": [
                              "ecs-tasks.amazonaws.com"
                            ]
                          },
                          "type": {
                            "constant_value": "Service"
                          }
                        }
                      ],
                      "resources": {
                        "references": [
                          "var.bucket_name",
                          "var.bucket_name"
                        ]
                      },
                      "sid": {
                        "constant_value": "AllowECSPermissions"
                      }
                    },
                    {
                      "actions": {
                        "constant_value": [
                          "s3:GetObject",
                          "s3:GetObjectAttributes",
                          "s3:ListBucket"
                        ]
                      },
                      "effect": {
                        "constant_value": "Allow"
                      },
                      "principals": [
                        {
                          "identifiers": {
                            "constant_value": [
                              "lambda.amazonaws.com"
                            ]
                          },
                          "type": {
                            "constant_value": "Service"
                          }
                        }
                      ],
                      "resources": {
                        "references": [
                          "var.bucket_name",
                          "var.bucket_name"
                        ]
                      },
                      "sid": {
                        "constant_value": "AllowLambdaPermissions"
                      }
                    }
                  ]
                },
                "schema_version": 0
              },
              {
                "address": "data.aws_iam_policy_document.sns_iam_pd_cloudnativeapp-tf",
                "mode": "data",
                "type": "aws_iam_policy_document",
                "name": "sns_iam_pd_cloudnativeapp-tf",
                "provider_config_key": "module.environment:aws",
                "expressions": {
                  "statement": [
                    {
                      "actions": {
                        "constant_value": [
                          "sns:Publish"
                        ]
                      },
                      "condition": [
                        {
                          "test": {
                            "constant_value": "ArnLike"
                          },
                          "values": {
                            "references": [
                              "aws_s3_bucket.s3_bucket_cloudnativeapp-tf.arn",
                              "aws_s3_bucket.s3_bucket_cloudnativeapp-tf"
                            ]
                          },
                          "variable": {
                            "constant_value": "aws:SourceArn"
                          }
                        }
                      ],
                      "effect": {
                        "constant_value": "Allow"
                      },
                      "principals": [
                        {
                          "identifiers": {
                            "constant_value": [
                              "s3.amazonaws.com"
                            ]
                          },
                          "type": {
                            "constant_value": "Service"
                          }
                        }
                      ],
                      "resources": {
                        "references": [
                          "var.sns_name"
                        ]
                      },
                      "sid": {
                        "constant_value": "AllowPublishNewMessages"
                      }
                    }
                  ]
                },
                "schema_version": 0
              },
              {
                "address": "data.aws_iam_policy_document.sqs_iam_pd_cloudnativeapp-tf",
                "mode": "data",
                "type": "aws_iam_policy_document",
                "name": "sqs_iam_pd_cloudnativeapp-tf",
                "provider_config_key": "module.environment:aws",
                "expressions": {
                  "statement": [
                    {
                      "actions": {
                        "constant_value": [
                          "sqs:SendMessage"
                        ]
                      },
                      "condition": [
                        {
                          "test": {
                            "constant_value": "ArnEquals"
                          },
                          "values": {
                            "references": [
                              "aws_sns_topic.sns_image_notification-tf.arn",
                              "aws_sns_topic.sns_image_notification-tf"
                            ]
                          },
                          "variable": {
                            "constant_value": "aws:SourceArn"
                          }
                        }
                      ],
                      "effect": {
                        "constant_value": "Allow"
                      },
                      "principals": [
                        {
                          "identifiers": {
                            "constant_value": [
                              "sns.amazonaws.com"
                            ]
                          },
                          "type": {
                            "constant_value": "Service"
                          }
                        }
                      ],
                      "resources": {
                        "references": [
                          "var.sqs_name"
                        ]
                      },
                      "sid": {
                        "constant_value": "AllowSendMessages"
                      }
                    }
                  ]
                },
                "schema_version": 0
              },
              {
                "address": "data.aws_region.current",
                "mode": "data",
                "type": "aws_region",
                "name": "current",
                "provider_config_key": "module.environment:aws",
                "schema_version": 0
              },
              {
                "address": "data.aws_subnet.default_subnets_cidr_blocks",
                "mode": "data",
                "type": "aws_subnet",
                "name": "default_subnets_cidr_blocks",
                "provider_config_key": "module.environment:aws",
                "expressions": {
                  "cidr_block": {
                    "references": [
                      "each.value"
                    ]
                  }
                },
                "schema_version": 0,
                "for_each_expression": {
                  "references": [
                    "var.default_subnet_a_cidr_blocks",
                    "var.default_subnet_b_cidr_blocks"
                  ]
                },
                "depends_on": [
                  "aws_default_subnet.default_subnet_a",
                  "aws_default_subnet.default_subnet_b"
                ]
              },
              {
                "address": "data.aws_vpc.default",
                "mode": "data",
                "type": "aws_vpc",
                "name": "default",
                "provider_config_key": "module.environment:aws",
                "expressions": {
                  "default": {
                    "constant_value": true
                  }
                },
                "schema_version": 0
              }
            ],
            "variables": {
              "availability_zone_a_name": {
                "default": "eu-west-1a",
                "description": "Name of the primary availability zone"
              },
              "availability_zone_b_name": {
                "default": "eu-west-1b",
                "description": "Name of the secondary availability zone"
              },
              "aws_profile": {
                "default": "default",
                "description": "Name of the AWS profile"
              },
              "aws_region": {
                "default": "eu-west-1",
                "description": "Name of the AWS region"
              },
              "bucket_name": {
                "default": "s3-image-bucket",
                "description": "Name of the S3 bucket to create"
              },
              "default_subnet_a_cidr_blocks": {
                "description": "List of CIDR blocks of the VPC's default subnet A"
              },
              "default_subnet_a_id": {
                "description": "Subnet ID of the default VPC's default subnet A"
              },
              "default_subnet_b_cidr_blocks": {
                "description": "List of CIDR blocks of the VPC's default subnet B"
              },
              "default_subnet_b_id": {
                "description": "Subnet ID of the default VPC's default subnet B"
              },
              "dynamodb_table_name": {
                "default": "dynamodb_table",
                "description": "Name of the DynamoDB table"
              },
              "sns_name": {
                "default": "sns-image-notification-topic",
                "description": "Name of the SNS topic"
              },
              "sqs_name": {
                "default": "sqs-queue",
                "description": "Name of the SQS queue"
              }
            }
          }
        }
      },
      "variables": {
        "qa_bucket_name": {
          "default": "qa-s3-bucket-cloudnativeapp",
          "description": "Name of the QA S3 bucket"
        }
      }
    }
  },
  "relevant_attributes": [
    {
      "resource": "module.environment.data.aws_iam_policy_document.s3_iam_pd_cloudnativeapp-tf",
      "attribute": [
        "json"
      ]
    },
    {
      "resource": "module.environment.aws_security_group.ecr_dkr_sg",
      "attribute": [
        "id"
      ]
    },
    {
      "resource": "module.application.aws_lb.load_balancer",
      "attribute": [
        "arn"
      ]
    },
    {
      "resource": "module.application.aws_iam_role.lambda_iam_role",
      "attribute": [
        "name"
      ]
    },
    {
      "resource": "module.application.data.aws_iam_policy.ecs_dynamodb",
      "attribute": [
        "arn"
      ]
    },
    {
      "resource": "module.environment.data.aws_region.current",
      "attribute": [
        "name"
      ]
    },
    {
      "resource": "module.environment.aws_s3_bucket.s3_bucket_cloudnativeapp-tf",
      "attribute": [
        "arn"
      ]
    },
    {
      "resource": "module.environment.data.aws_iam_policy_document.sns_iam_pd_cloudnativeapp-tf",
      "attribute": [
        "json"
      ]
    },
    {
      "resource": "module.application.aws_iam_role.ecs_task_task_role",
      "attribute": [
        "arn"
      ]
    },
    {
      "resource": "module.application.data.aws_iam_policy.ecs_cloud_watch",
      "attribute": [
        "arn"
      ]
    },
    {
      "resource": "module.application.data.aws_iam_policy.ecs_s3",
      "attribute": [
        "arn"
      ]
    },
    {
      "resource": "module.environment.aws_s3_bucket.s3_bucket_cloudnativeapp-tf",
      "attribute": [
        "bucket"
      ]
    },
    {
      "resource": "module.application.data.archive_file.lambda_archive_file_cloudnativeapp-tf",
      "attribute": [
        "output_base64sha256"
      ]
    },
    {
      "resource": "module.application.aws_lb_target_group.lb_target_group",
      "attribute": [
        "arn"
      ]
    },
    {
      "resource": "module.application.aws_iam_role.ecs_task_execution_role",
      "attribute": [
        "name"
      ]
    },
    {
      "resource": "module.environment.aws_sqs_queue.sqs_queue_cloudnativeapp-tf",
      "attribute": [
        "arn"
      ]
    },
    {
      "resource": "module.application.aws_lambda_function.lambda_function",
      "attribute": [
        "arn"
      ]
    },
    {
      "resource": "module.application.aws_iam_role.ecs_task_execution_role",
      "attribute": [
        "arn"
      ]
    },
    {
      "resource": "module.environment.aws_sns_topic.sns_image_notification-tf",
      "attribute": [
        "arn"
      ]
    },
    {
      "resource": "module.environment.aws_sqs_queue.sqs_queue_cloudnativeapp-tf",
      "attribute": [
        "id"
      ]
    },
    {
      "resource": "module.environment.data.aws_vpc.default",
      "attribute": [
        "id"
      ]
    },
    {
      "resource": "module.environment.data.aws_vpc.default",
      "attribute": [
        "cidr_block"
      ]
    },
    {
      "resource": "module.environment.aws_security_group.ecr_api_sg",
      "attribute": [
        "id"
      ]
    },
    {
      "resource": "module.application.aws_security_group.ecs_service_security_group",
      "attribute": [
        "id"
      ]
    },
    {
      "resource": "module.environment.aws_s3_bucket.s3_bucket_cloudnativeapp-tf",
      "attribute": [
        "id"
      ]
    },
    {
      "resource": "module.application.data.aws_iam_policy.ecs_app_runner_service",
      "attribute": [
        "arn"
      ]
    },
    {
      "resource": "module.application.aws_ecs_task_definition.ecs_task_definition",
      "attribute": [
        "arn"
      ]
    },
    {
      "resource": "module.environment.data.aws_iam_policy_document.sqs_iam_pd_cloudnativeapp-tf",
      "attribute": [
        "json"
      ]
    },
    {
      "resource": "module.application.aws_iam_role.lambda_iam_role",
      "attribute": [
        "arn"
      ]
    },
    {
      "resource": "module.environment.aws_security_group.logs_sg",
      "attribute": [
        "id"
      ]
    },
    {
      "resource": "module.application.aws_ecs_cluster.ecs_cluster",
      "attribute": [
        "id"
      ]
    },
    {
      "resource": "module.application.aws_iam_role.ecs_task_task_role",
      "attribute": [
        "name"
      ]
    },
    {
      "resource": "module.environment.aws_dynamodb_table.dynamodb_table_cloudnativeapp-tf",
      "attribute": [
        "name"
      ]
    },
    {
      "resource": "module.application.aws_iam_policy.lambda_iam_policy",
      "attribute": [
        "arn"
      ]
    }
  ],
  "timestamp": "2024-05-09T23:00:58Z",
  "applyable": true,
  "complete": true,
  "errored": false
}